{"version":3,"file":"static/js/862.555e9a0b.chunk.js","mappings":"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","sources":["components/Modals/UploadParticipantsModal.js","graphql/queries/attendancesRequests.js","pages/Participants.js","graphql/queries/participantsRequests.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  DialogActions,\r\n  Chip,\r\n  Alert,\r\n} from \"@mui/material\";\r\nimport { FileUploader } from \"react-drag-drop-files\";\r\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\r\nimport { AiOutlineCloseCircle } from \"react-icons/ai\";\r\nimport { BiErrorAlt } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"@apollo/client\";\r\nimport { saveAs } from \"file-saver\";\r\nimport {\r\n  GET_PARTICIPANTS_PER_PROJECT,\r\n  UPLOAD_PARTICIPANTS,\r\n} from \"../../graphql/queries/participantsRequests\";\r\n\r\nconst requiredColumns = [\r\n  \"Project\",\r\n  \"first_name\",\r\n  \"last_name\",\r\n  \"gender\",\r\n  \"age\",\r\n  \"coffee_tree_numbers\",\r\n  \"farmer_sf_id\",\r\n  \"tns_id\",\r\n  \"hh_number\",\r\n  \"sf_household_id\",\r\n  \"farmer_number\",\r\n  \"ffg_id\",\r\n  \"training_group\",\r\n  \"status\",\r\n];\r\n\r\nconst UploadParticipantsModal = ({\r\n  open,\r\n  setOpen,\r\n  navigatedProject,\r\n  sfProjectId,\r\n}) => {\r\n  const [fileInfo, setFileInfo] = useState(null);\r\n  const [file, setFile] = useState(null);\r\n  const [loadedColumns, setLoadedColumns] = useState([]);\r\n  const [distinctProjects, setDistinctProjects] = useState([]);\r\n  const [uploadResult, setUploadResult] = useState(null);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n  const [uploadParticipants] = useMutation(UPLOAD_PARTICIPANTS);\r\n  const participantsPerProject = useQuery(GET_PARTICIPANTS_PER_PROJECT, {\r\n    variables: { projectId: sfProjectId },\r\n  });\r\n\r\n  const handleChange = (file) => {\r\n    setFile(file);\r\n    setUploadResult(null);\r\n    parseFile(file);\r\n  };\r\n\r\n  const parseFile = (file) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const loadedData = e.target.result.split(/\\r\\n|\\n/);\r\n      const modifiedData = loadedData.map((row) =>\r\n        row.split(\",\").map((cell) => cell.replace(/^\"(.*)\"$/, \"$1\"))\r\n      );\r\n      setFileInfo({\r\n        filename: file.name,\r\n        size: file.size,\r\n        type: file.type,\r\n        data: modifiedData.length > 0 ? modifiedData : loadedData,\r\n      });\r\n      setLoadedColumns(modifiedData[0]);\r\n    };\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!fileInfo) return;\r\n    if (fileInfo.data && fileInfo.data.length < 2) return;\r\n    extractDistinctProjects(fileInfo);\r\n  }, [fileInfo, loadedColumns]);\r\n\r\n  const extractDistinctProjects = (fileInfo) => {\r\n    const projectColumn = fileInfo.data\r\n      .map((row) => row[loadedColumns.indexOf(\"Project\")])\r\n      .filter((project) => project);\r\n    setDistinctProjects([...new Set(projectColumn)]);\r\n  };\r\n\r\n  const handleClose = (e, reason) => {\r\n    if (reason === \"backdropClick\" || reason === \"escapeKeyDown\") return;\r\n    resetState();\r\n  };\r\n\r\n  const resetState = () => {\r\n    setFileInfo(null);\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (isProcessing) return;\r\n    setIsProcessing(true);\r\n    setUploadResult(null);\r\n    const newFile = createProjectSpecificFile(\r\n      fileInfo,\r\n      loadedColumns,\r\n      navigatedProject\r\n    );\r\n    await uploadFile(newFile);\r\n  };\r\n\r\n  const createProjectSpecificFile = (fileInfo, loadedColumns, project) => {\r\n    const projectIndex = loadedColumns.indexOf(\"Project\");\r\n    const projectData = fileInfo.data.filter(\r\n      (row) => row[projectIndex] === project\r\n    );\r\n    const projectDataString = `${loadedColumns.join(\",\")}\\n${projectData.join(\r\n      \"\\n\"\r\n    )}`;\r\n    return new File([projectDataString], fileInfo.filename, {\r\n      type: \"text/csv\",\r\n    });\r\n  };\r\n\r\n  const uploadFile = async (file) => {\r\n    try {\r\n      const res = await uploadParticipants({ variables: { partsFile: file } });\r\n      await participantsPerProject.refetch();\r\n      setUploadResult(res.data.uploadParticipants);\r\n      if (res.data.uploadParticipants.status === 200) {\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 5000);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      setUploadResult({\r\n        status: 500,\r\n        message: \"Something went wrong. Please try again.\",\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleDownloadErrors = () => {\r\n    const { file, message } = uploadResult;\r\n    if (file) {\r\n      const byteCharacters = atob(file);\r\n      const byteNumbers = new Array(byteCharacters.length).fill().map((_, i) => byteCharacters.charCodeAt(i));\r\n      const byteArray = new Uint8Array(byteNumbers);\r\n      const blob = new Blob([byteArray], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" });\r\n      saveAs(blob, \"error_file.xlsx\");\r\n    } else {\r\n      console.error(\"No file found in the upload result.\");\r\n    }\r\n  };\r\n\r\n  const renderFileDetails = () => (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Typography variant=\"body2\">\r\n        <strong>Name:</strong> {fileInfo.filename}\r\n      </Typography>\r\n      <Typography variant=\"body2\">\r\n        <strong>Size:</strong> {formatFileSize(fileInfo.size)}\r\n      </Typography>\r\n      <Typography variant=\"body2\">\r\n        <strong>Type:</strong> {fileInfo.type}\r\n      </Typography>\r\n      <Typography variant=\"body2\">\r\n        <strong>Total Records:</strong> {formatNumberWithCommas(fileInfo.data.length - 2)}\r\n      </Typography>\r\n      {distinctProjects.length > 1 && (\r\n        <Typography variant=\"body4\" sx={{ marginBottom: \"10px\" }}>\r\n          Only records for <strong>{navigatedProject} ({fileInfo.data.filter((row) => row[loadedColumns.indexOf(\"Project\")] === navigatedProject).length} records)</strong> will be processed from this file.\r\n        </Typography>\r\n      )}\r\n    </Box>\r\n  );\r\n\r\n  const formatFileSize = (size) => (\r\n    size > 1000000 ? `${(size / 1000000).toFixed(2)} MB` : `${(size / 1000).toFixed(2)} KB`\r\n  );\r\n\r\n  const formatNumberWithCommas = (number) => (\r\n    number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\r\n  );\r\n\r\n  const renderRequiredColumnsAlert = () => (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Typography variant=\"body1\">\r\n        <BiErrorAlt style={{ fontSize: \"2rem\", color: \"#B90101\" }} /> File must contain all required columns:\r\n      </Typography>\r\n      <Typography variant=\"body2\" sx={{ display: \"flex\", alignItems: \"center\", flexWrap: \"wrap\" }}>\r\n        {requiredColumns.filter((column) => !loadedColumns.includes(column)).map((column, index) => (\r\n          <Chip key={index} label={column} sx={{ margin: \"5px 0.5rem\" }} color=\"primary\" variant=\"outlined\" />\r\n        ))}\r\n      </Typography>\r\n      <div className=\"upload_actions\">\r\n        <AiOutlineCloseCircle onClick={() => setFileInfo(null)} className=\"back__icon\" title=\"Back to Upload New File\" />\r\n      </div>\r\n    </Box>\r\n  );\r\n\r\n  const renderEmptyFileAlert = () => (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Typography variant=\"body1\" sx={{ fontStyle: \"italic\" }}>\r\n        <BiErrorAlt style={{ fontSize: \"1.5rem\", color: \"#B90101\" }} /> There are no records in the file. Please upload a file with data.\r\n      </Typography>\r\n      <div className=\"upload_actions\">\r\n        <AiOutlineCloseCircle onClick={() => setFileInfo(null)} className=\"back__icon\" title=\"Back to Upload New File\" />\r\n      </div>\r\n    </Box>\r\n  );\r\n\r\n  const renderProjectMismatchAlert = () => (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Typography variant=\"body1\" sx={{ fontStyle: \"italic\" }}>\r\n        <BiErrorAlt style={{ fontSize: \"3rem\", color: \"#B90101\" }} /> The project(s) in the file does not match the project you are currently navigating. Please upload a file with the correct project.\r\n      </Typography>\r\n      <div className=\"upload_actions\">\r\n        <AiOutlineCloseCircle onClick={() => setFileInfo(null)} className=\"back__icon\" title=\"Back to Upload New File\" />\r\n      </div>\r\n    </Box>\r\n  );\r\n\r\n  const renderProcessingState = () => (\r\n    <Typography variant=\"body2\" sx={{ marginBottom: \"10px\", width: \"100%\", textAlign: \"center\" }}>\r\n      <em style={{ fontWeight: \"bold\", color: \"#6C757D\" }}>Data are being processed, wait...</em>\r\n    </Typography>\r\n  );\r\n\r\n  const renderUploadResult = () => (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }} className=\"file-info\">\r\n      <Typography variant=\"body2\">\r\n        <Alert severity={uploadResult.status === 200 ? \"success\" : \"error\"}>{uploadResult.message}</Alert>\r\n      </Typography>\r\n      {uploadResult.status !== 200 && uploadResult.file && (\r\n        <Button onClick={handleDownloadErrors} variant=\"contained\" color=\"primary\">\r\n          Download Error File\r\n        </Button>\r\n      )}\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose}>\r\n      <DialogContent>\r\n        {!fileInfo ? (\r\n          <FileUploader label={\"Drag and drop or browse a file to upload. File must be: \"} handleChange={handleChange} name=\"file\" types={[\"csv\"]} />\r\n        ) : uploadResult ? (\r\n          renderUploadResult()\r\n        ) : loadedColumns.filter((column) => requiredColumns.includes(column)).length !== requiredColumns.length ? (\r\n          renderRequiredColumnsAlert()\r\n        ) : fileInfo.data.length - 2 < 1 ? (\r\n          renderEmptyFileAlert()\r\n        ) : !distinctProjects.includes(navigatedProject) ? (\r\n          renderProjectMismatchAlert()\r\n        ) : (\r\n          <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }} className=\"file-info\">\r\n            {renderFileDetails()}\r\n            <div className=\"upload_actions\">\r\n              {isProcessing ? renderProcessingState() : (\r\n                <>\r\n                  <AiOutlineCloseCircle onClick={() => setFileInfo(null)} className=\"back__icon\" title=\"Back to Upload New File\" />\r\n                  <FaCloudUploadAlt title=\"Proceed Records Processing\" className=\"upload__icon\" onClick={handleUpload} />\r\n                </>\r\n              )}\r\n            </div>\r\n          </Box>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} disabled={isProcessing}>Cancel</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default UploadParticipantsModal;\r\n","import { gql } from \"@apollo/client\";\r\n\r\nconst GET_ALL_ATTENDANCES = gql`\r\n  query GetAttendances($projectId: String!) {\r\n    getAttendances(project_id: $projectId) {\r\n      message\r\n      status\r\n      attendance {\r\n        attendance_id\r\n        participant_id\r\n        attendance_name\r\n        attendance_date\r\n        attendance_status\r\n        session_id\r\n        module_name\r\n        module_number\r\n        module_id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport { GET_ALL_ATTENDANCES };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Chip } from \"@mui/material\";\r\nimport Table from \"../components/Table/Table\";\r\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\r\nimport UploadParticipantsModal from \"../components/Modals/UploadParticipantsModal\";\r\nimport {\r\n  GET_PARTICIPANTS_PER_PROJECT,\r\n  SYNC_PARTICIPANTS_WITH_COMMCARE,\r\n} from \"../graphql/queries/participantsRequests\";\r\nimport { GET_ALL_ATTENDANCES } from \"../graphql/queries/attendancesRequests\";\r\nimport { useMutation, useQuery } from \"@apollo/client\";\r\nimport { BeatLoader } from \"react-spinners\";\r\nimport { Grid } from \"@mui/material\";\r\n\r\nconst Participants = ({ selectedProject, trainingGroups, projects }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [sendToCcCount, setSendToCcCount] = useState();\r\n  const [isSyncing, setIsSyncing] = useState(false);\r\n\r\n  const {\r\n    data: participantData,\r\n    loading: participantsLoading,\r\n    error: participantsError,\r\n    refetch: refetchParticipants,\r\n  } = useQuery(GET_PARTICIPANTS_PER_PROJECT, {\r\n    variables: { projectId: selectedProject },\r\n    skip: !selectedProject,\r\n  });\r\n\r\n  const {\r\n    data: attendanceData,\r\n    loading: attendanceLoading,\r\n    error: attendanceError,\r\n  } = useQuery(GET_ALL_ATTENDANCES, {\r\n    variables: { projectId: selectedProject },\r\n    skip: !selectedProject,\r\n  });\r\n\r\n  const [SyncParticipants] = useMutation(SYNC_PARTICIPANTS_WITH_COMMCARE);\r\n\r\n  const userDetails = JSON.parse(window.localStorage.getItem(\"myPimaUserData\"));\r\n\r\n  useEffect(() => {\r\n    if (\r\n      participantData &&\r\n      participantData.getParticipantsByProject.status === 200\r\n    ) {\r\n      const sendToCcCount =\r\n        participantData.getParticipantsByProject.participants.filter(\r\n          (participant) => participant.create_in_commcare === \"false\"\r\n        );\r\n      setSendToCcCount(sendToCcCount.length);\r\n    }\r\n  }, [participantData]);\r\n\r\n  const handleTakeAction = async () => {\r\n    setIsSyncing(true);\r\n\r\n    try {\r\n      await SyncParticipants({\r\n        variables: {\r\n          projectId: selectedProject,\r\n        },\r\n      });\r\n      await refetchParticipants(); // Refetch the participants data after syncing\r\n      setIsSyncing(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setIsSyncing(false);\r\n    }\r\n  };\r\n\r\n  if (participantsLoading || attendanceLoading) {\r\n    return (\r\n      <Grid\r\n        container\r\n        direction=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        style={{ height: \"100vh\" }}\r\n      >\r\n        <BeatLoader color=\"#0D3C61\" size={15} />\r\n        <em style={{ color: \"#0D3C61\" }}>\r\n          Loading Participants and Attendances...\r\n        </em>\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  if (participantsError || attendanceError) {\r\n    return (\r\n      <Grid\r\n        container\r\n        direction=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        style={{ height: \"100vh\" }}\r\n      >\r\n        <em style={{ color: \"red\" }}>\r\n          Error loading data:{\" \"}\r\n          {participantsError?.message || attendanceError?.message}\r\n        </em>\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  const participants = participantData.getParticipantsByProject.participants;\r\n  const allAttendances = attendanceData.getAttendances.attendance;\r\n\r\n  const columns = [\r\n    { id: \"num\", name: \"No.\", selector: (row) => row.num, sortable: true },\r\n    {\r\n      id: \"full_name\",\r\n      name: \"Full Name\",\r\n      selector: (row) => row.first_name + \" \" + row.last_name,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"gender\",\r\n      name: \"Gender\",\r\n      selector: (row) => (row.gender === \"m\" ? \"Male\" : \"Female\"),\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"location\",\r\n      name: \"Location\",\r\n      selector: (row) => row.location,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"tns_id\",\r\n      name: \"TNS ID\",\r\n      selector: (row) => row.tns_id,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"training_group\",\r\n      name: \"Training Group\",\r\n      selector: (row) => row.training_group,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"household_id\",\r\n      name: \"HH Number\",\r\n      selector: (row) => row.hh_number,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"primary_household_member\",\r\n      name: \"Primary HouseHold Member\",\r\n      selector: (row) => (\r\n        <div>\r\n          {row.farmer_number === \"1\" ? (\r\n            <Chip label={\"1\"} color=\"success\" variant=\"outlined\" />\r\n          ) : (\r\n            <Chip label={\"2\"} color=\"error\" variant=\"outlined\" />\r\n          )}\r\n        </div>\r\n      ),\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"farmer_trainer\",\r\n      name: \"Farmer Trainer\",\r\n      selector: (row) => row.farmer_trainer,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"business_advisor\",\r\n      name: \"Business Advisor\",\r\n      selector: (row) => row.business_advisor,\r\n      sortable: true,\r\n    },\r\n  ];\r\n  const tableRowItem = \"participants\";\r\n\r\n  const rows = participants.map((participant, index) => {\r\n    const row = {\r\n      num: index + 1,\r\n      Project: projects.find(\r\n        (project) => project.sf_project_id === selectedProject\r\n      ).project_name,\r\n      p_id: participant.p_id,\r\n      first_name: participant.first_name,\r\n      middle_name: participant.middle_name ? participant.middle_name : \"\",\r\n      last_name: participant.last_name ? participant.last_name : \"\",\r\n      gender: participant.gender,\r\n      age: participant.age,\r\n      coffee_tree_numbers: participant.coffee_tree_numbers,\r\n      phone_number: participant.phone_number,\r\n      farmer_sf_id: participant.p_id,\r\n      hh_number: participant.hh_number,\r\n      sf_household_id: participant.household_id,\r\n      ffg_id: participant.ffg_id,\r\n      location: participant.location,\r\n      tns_id: participant.tns_id,\r\n      training_group:\r\n        trainingGroups && trainingGroups.length > 0\r\n          ? trainingGroups.find((tg) => tg.tg_id === participant.training_group)\r\n              ?.tg_name || \"N/A\"\r\n          : \"N/A\",\r\n      farmer_number: participant.primary_household_member,\r\n      status: participant.status,\r\n      farmer_trainer: participant.farmer_trainer,\r\n      // business_advisor: participant.business_advisor,\r\n      create_in_commcare: participant.create_in_commcare,\r\n      number_of_coffee_plots: participant.number_of_coffee_plots,\r\n    };\r\n\r\n    if (selectedProject === \"a0EOj000003E0knMAC\") {\r\n      row.agronomy_advisor = participant.business_advisor\r\n    }else{\r\n      row.business_advisor = participant.business_advisor\r\n    }\r\n\r\n    if (\r\n      selectedProject === \"a0EOj000002FMGnMAO\" ||\r\n      selectedProject === \"a0EOj000002C7ivMAC\"\r\n    ) {\r\n      row.national_identification_id = participant.coop_membership_number\r\n        ? participant.coop_membership_number\r\n        : \"\";\r\n    } else if (selectedProject === \"a0EOj000003E0knMAC\") {\r\n      row.growers_number = participant.coop_membership_number\r\n        ? participant.coop_membership_number\r\n        : \"\";\r\n    } else {\r\n      row.coop_membership_number = participant.coop_membership_number\r\n        ? participant.coop_membership_number\r\n        : \"\";\r\n    }\r\n\r\n    return row;\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      {/* Display the dialog box for active participants */}\r\n      {sendToCcCount > 0 && (\r\n        <div className=\"active-participants-dialog\">\r\n          <p>\r\n            You currently have <strong>{sendToCcCount}</strong> participants who\r\n            have not been sent to CommCare. Please download the participant\r\n            list, review the database, and ensure all information is verified\r\n            before syncing with CommCare.\r\n          </p>\r\n          <button\r\n            className=\"take-action-button\"\r\n            onClick={() => handleTakeAction()}\r\n            disabled={isSyncing}\r\n          >\r\n            {isSyncing ? \"Processing...\" : \"Send to Commcare\"}\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex__heading\">\r\n        <h1 className=\"module__heading\">Registered Farmers View</h1>{\" \"}\r\n        {(userDetails?.role === \"super_admin\" ||\r\n          userDetails?.role === \"ci_leadership\" ||\r\n          userDetails?.role === \"senior_business_advisor\" ||\r\n          userDetails?.role === \"project_manager\" ||\r\n          userDetails?.role === \"mel_analyst\") && (\r\n          <FaCloudUploadAlt\r\n            title=\"Upload New Participants\"\r\n            style={{\r\n              fontSize: \"30px\",\r\n              cursor: \"pointer\",\r\n              marginLeft: \"10px\",\r\n              fill: \"#00A5A3\",\r\n            }}\r\n            onClick={() => setOpen(true)}\r\n          />\r\n        )}{\" \"}\r\n      </div>\r\n      {participants.length > 0 ? (\r\n        <Table\r\n          columns={columns}\r\n          data={rows}\r\n          tableRowItem={tableRowItem}\r\n          allAttendances={allAttendances}\r\n          selectedProject={selectedProject}\r\n        />\r\n      ) : (\r\n        <div className=\"no__data\">\r\n          <h1 style={{ fontSize: \"20px\" }}>No Registered Farmers Yet</h1>\r\n        </div>\r\n      )}\r\n\r\n      <UploadParticipantsModal\r\n        open={open}\r\n        setOpen={setOpen}\r\n        navigatedProject={\r\n          projects.find((project) => project.sf_project_id === selectedProject)\r\n            .project_name\r\n        }\r\n        sfProjectId={selectedProject}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Participants;\r\n","import { gql } from \"@apollo/client\";\r\n\r\nconst GET_PARTICIPANTS_ATTENDANCE_PER_PROJECT = gql`\r\n  query GetParticipantsAttendanceByProject($projectId: String!) {\r\n    getParticipantsByProject(project_id: $projectId) {\r\n      message\r\n      status\r\n      participants {\r\n        p_id\r\n        first_name\r\n        middle_name\r\n        last_name\r\n        gender\r\n        age\r\n        coffee_tree_numbers\r\n        coop_membership_number\r\n        phone_number\r\n        hh_number\r\n        ffg_id\r\n        location\r\n        tns_id\r\n        status\r\n        farmer_trainer\r\n        business_advisor\r\n        project_name\r\n        training_group\r\n        household_id\r\n        primary_household_member\r\n        create_in_commcare\r\n      }\r\n    }\r\n    getAttendances(project_id: $projectId) {\r\n      message\r\n      status\r\n      attendance {\r\n        attendance_id\r\n        participant_id\r\n        attendance_name\r\n        attendance_date\r\n        attendance_status\r\n        session_id\r\n        module_name\r\n        module_number\r\n        module_id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_PARTICIPANTS_PER_PROJECT = gql`\r\n  query GetParticipantsAttendanceByProject($projectId: String!) {\r\n    getParticipantsByProject(project_id: $projectId) {\r\n      message\r\n      status\r\n      participants {\r\n        p_id\r\n        first_name\r\n        middle_name\r\n        last_name\r\n        gender\r\n        age\r\n        coffee_tree_numbers\r\n        number_of_coffee_plots\r\n        coop_membership_number\r\n        phone_number\r\n        hh_number\r\n        ffg_id\r\n        location\r\n        tns_id\r\n        status\r\n        farmer_trainer\r\n        business_advisor\r\n        project_name\r\n        training_group\r\n        household_id\r\n        primary_household_member\r\n        create_in_commcare\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_PARTICIPANTS_PER_TG = gql`\r\n  query GetParticipantsByGroup($tgId: String!) {\r\n    getParticipantsByGroup(tg_id: $tgId) {\r\n      message\r\n      status\r\n      participants {\r\n        p_id\r\n        first_name\r\n        middle_name\r\n        last_name\r\n        gender\r\n        location\r\n        tns_id\r\n        status\r\n        farmer_trainer\r\n        business_advisor\r\n        project_name\r\n        training_group\r\n        household_id\r\n        primary_household_member\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_PARTICIPANT_BY_ID = gql`\r\n  query GetParticipantsById($id: String!) {\r\n    getParticipantsById(p_id: $id) {\r\n      message\r\n      status\r\n      participant {\r\n        p_id\r\n        first_name\r\n        middle_name\r\n        last_name\r\n        gender\r\n        location\r\n        tns_id\r\n        status\r\n        farmer_trainer\r\n        business_advisor\r\n        project_name\r\n        training_group\r\n        household_id\r\n        primary_household_member\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_ATTENDANCE_PER_PARTICIPANT = gql`\r\n  query GetAttendanceByParticipant($participantId: String!) {\r\n    getAttendanceByParticipant(participant_id: $participantId) {\r\n      message\r\n      status\r\n      attendance {\r\n        attendance_id\r\n        participant_id\r\n        attendance_name\r\n        attendance_date\r\n        attendance_status\r\n        module_name\r\n        session_id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPLOAD_PARTICIPANTS = gql`\r\n  mutation UploadParticipants($partsFile: Upload!) {\r\n    uploadParticipants(parts_file: $partsFile) {\r\n      message\r\n      status\r\n      file\r\n    }\r\n  }\r\n`;\r\n\r\nconst SYNC_PARTICIPANTS_WITH_COMMCARE = gql`\r\n  mutation SyncParticipantsWithCOMMCARE($projectId: String!) {\r\n    syncParticipantsWithCOMMCARE(project_id: $projectId) {\r\n      message\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport {\r\n  GET_PARTICIPANTS_PER_PROJECT,\r\n  GET_PARTICIPANTS_PER_TG,\r\n  GET_ATTENDANCE_PER_PARTICIPANT,\r\n  UPLOAD_PARTICIPANTS,\r\n  SYNC_PARTICIPANTS_WITH_COMMCARE,\r\n  GET_PARTICIPANTS_ATTENDANCE_PER_PROJECT,\r\n  GET_PARTICIPANT_BY_ID\r\n};\r\n"],"names":["requiredColumns","_ref","open","setOpen","navigatedProject","sfProjectId","fileInfo","setFileInfo","useState","file","setFile","loadedColumns","setLoadedColumns","distinctProjects","setDistinctProjects","uploadResult","setUploadResult","isProcessing","setIsProcessing","uploadParticipants","useMutation","UPLOAD_PARTICIPANTS","participantsPerProject","useQuery","GET_PARTICIPANTS_PER_PROJECT","variables","projectId","parseFile","reader","FileReader","onload","e","loadedData","target","result","split","modifiedData","map","row","cell","replace","filename","name","size","type","data","length","readAsText","useEffect","extractDistinctProjects","projectColumn","indexOf","filter","project","Set","handleClose","reason","resetState","createProjectSpecificFile","projectIndex","projectData","projectDataString","join","File","uploadFile","async","res","partsFile","refetch","status","setTimeout","window","location","reload","error","console","message","handleDownloadErrors","byteCharacters","atob","byteNumbers","Array","fill","_","i","charCodeAt","byteArray","Uint8Array","blob","Blob","saveAs","formatFileSize","toFixed","formatNumberWithCommas","number","toString","_jsxs","Dialog","onClose","children","_jsx","DialogContent","Box","sx","display","flexDirection","alignItems","className","Typography","variant","Alert","severity","Button","onClick","color","column","includes","BiErrorAlt","style","fontSize","flexWrap","index","Chip","label","margin","AiOutlineCloseCircle","title","fontStyle","marginBottom","width","textAlign","fontWeight","_Fragment","FaCloudUploadAlt","newFile","FileUploader","handleChange","types","DialogActions","disabled","GET_ALL_ATTENDANCES","gql","selectedProject","trainingGroups","projects","sendToCcCount","setSendToCcCount","isSyncing","setIsSyncing","participantData","loading","participantsLoading","participantsError","refetchParticipants","skip","attendanceData","attendanceLoading","attendanceError","SyncParticipants","SYNC_PARTICIPANTS_WITH_COMMCARE","userDetails","JSON","parse","localStorage","getItem","getParticipantsByProject","participants","participant","create_in_commcare","Grid","container","direction","justifyContent","height","BeatLoader","allAttendances","getAttendances","attendance","columns","id","selector","num","sortable","first_name","last_name","gender","tns_id","training_group","hh_number","farmer_number","farmer_trainer","business_advisor","rows","_trainingGroups$find","Project","find","sf_project_id","project_name","p_id","middle_name","age","coffee_tree_numbers","phone_number","farmer_sf_id","sf_household_id","household_id","ffg_id","tg","tg_id","tg_name","primary_household_member","number_of_coffee_plots","agronomy_advisor","national_identification_id","coop_membership_number","growers_number","err","log","handleTakeAction","role","cursor","marginLeft","Table","tableRowItem","UploadParticipantsModal","GET_PARTICIPANTS_PER_TG","GET_PARTICIPANT_BY_ID","GET_ATTENDANCE_PER_PARTICIPANT"],"sourceRoot":""}
"use strict";(self.webpackChunkmypima_front=self.webpackChunkmypima_front||[]).push([[287],{6534:(e,s,a)=>{a.r(s),a.d(s,{default:()=>I});var i=a(65043),t=a(73216),r=a(82407),n=a(7353),l=a(94496),d=a(83625),o=a(24056),c=a(3438),m=a(61596),_=a(34535),x=(a(85040),a(28604)),p=a(1785),h=a(88250),g=a(84548),u=a(45421),j=a(31995),v=a(70579);const f=e=>{let{stats:s}=e,a=0,i=0;a+=isNaN(s.total_males)?0:Number(s.total_males),i+=isNaN(s.total_females)?0:Number(s.total_females);const t=a+i,r=t>0?a/t*100:0,n=t>0?i/t*100:0;return(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:"cardts__container",children:[(0,v.jsx)("p",{style:{color:"#7D7F88",fontWeight:"600",paddingBottom:"10px"},children:"Total Attendance"}),(0,v.jsx)("div",{style:{display:"flex"},children:(0,v.jsx)("div",{style:{width:"300px"},children:r>0||n>0?(0,v.jsx)(j.r,{series:[{arcLabel:e=>`${e.value}%`,arcLabelMinAngle:65,data:[{id:0,value:r.toFixed(1),label:"Male",color:"#3F51B5"},{id:1,value:n.toFixed(1),label:"Female",color:"#FF4081"}]}],width:230,height:200}):(0,v.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,v.jsx)("p",{children:"No data to display"})})})})]})})},b=(0,_.Ay)(c.A)((e=>{let{theme:s}=e;return{marginBottom:"10px",marginRight:"10px",textTransform:"initial",backgroundColor:"rgba(244, 103, 0, 1)",color:"#fff","&:hover":{backgroundColor:"rgba(244, 103, 0, 0.5)",transition:"background-color 0.3s ease-in-out"}}})),A=e=>{let{details:s,selectedProject:a}=e;const[t,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(null),{data:d,loading:o}=(0,h.I)(g.jq,{variables:{tsId:s.ts_id}});return(0,i.useEffect)((()=>{!o&&d.trainingSessionImage&&200===d.trainingSessionImage.status&&l(d.trainingSessionImage.trainingSessionImage)}),[d,o]),(0,v.jsx)("div",{children:(0,v.jsxs)(m.A,{elevation:2,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"details__title",children:s.ts_name}),(0,v.jsx)("div",{style:{padding:"10px",paddingLeft:"20px"}}),(0,v.jsxs)("div",{className:"ts__details-container",style:{display:"flex",gap:"50px"},children:[(0,v.jsx)("div",{style:{width:"250px"},children:(0,v.jsx)(f,{stats:s})}),(0,v.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,v.jsxs)("div",{className:"ts__details-container1",children:[(0,v.jsx)(x.A,{heading:"Module Name",paragraph:s.ts_module}),(0,v.jsx)("div",{style:{paddingBottom:"20px"}}),(0,v.jsx)(x.A,{heading:"Male Attendance",paragraph:s.total_males||"N/A"})]}),(0,v.jsxs)("div",{className:"ts__details-container1",children:[(0,v.jsx)(x.A,{heading:"Training Group",paragraph:s.ts_group})," ",(0,v.jsx)("div",{style:{paddingBottom:"20px"}}),(0,v.jsx)(x.A,{heading:"Female Attendance",paragraph:s.total_females||"N/A"})]})," ",(0,v.jsxs)("div",{className:"ts__details-container1",children:[(0,v.jsx)(x.A,{heading:"Business Advisor",paragraph:"Peace Ishimwe"})," ",(0,v.jsx)("div",{style:{paddingBottom:"20px"}}),(0,v.jsx)(x.A,{heading:"TNS ID",paragraph:s.tns_id||"N/A"})]}),(0,v.jsxs)("div",{className:"ts__details-container1",children:[(0,v.jsx)(x.A,{heading:"Farmer Trainer",paragraph:s.farmer_trainer||"N/A"}),(0,v.jsx)("div",{style:{paddingBottom:"20px"}}),(0,v.jsx)(x.A,{heading:"Is Session Verified?",paragraph:s.is_verified?"Yes":"No"})]}),(0,v.jsxs)("div",{className:"ts__details-container1",children:[(0,v.jsx)(x.A,{heading:"Session Image Status",paragraph:s.session_image_status}),(0,v.jsx)("div",{style:{paddingBottom:"20px"}}),(0,v.jsx)(x.A,{heading:"Session Date",paragraph:s.session_date})]})]})]})]}),(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,v.jsx)(b,{onClick:()=>{r(!0)},id:"demo-customized-button","aria-controls":t?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":t?"true":void 0,disabled:!s.has_image,style:{backgroundColor:""+(n?"rgba(244, 103, 0, 1)":"rgba(244, 103, 0, 0.5)"),color:"#fff",cursor:""+(s.has_image?"pointer":"not-allowed")},children:o?(0,v.jsx)(u.A,{color:"rgba(244, 103, 0, 1)",loading:o,size:10}):"View Session Image"}),t&&(0,v.jsx)(p.A,{open:t,handleClose:()=>{r(!1)},id:s.ts_id,isVerified:s.is_verified,imageStatus:s.session_image_status,sessionImageUrl:n,selectedProject:a,data:s})]})]})})};var N=a(63847);function y(e){const{children:s,value:a,index:i,...t}=e;return(0,v.jsx)("div",{role:"tabpanel",hidden:a!==i,id:`simple-tabpanel-${i}`,"aria-labelledby":`simple-tab-${i}`,...t,children:a===i&&(0,v.jsx)(n.A,{sx:{p:3},children:(0,v.jsx)(l.A,{children:s})})})}const F=e=>{let{details:s,farmVisits:a,selectedProject:t}=e;const[r,l]=(0,i.useState)(0);return(0,v.jsx)("div",{children:(0,v.jsxs)(n.A,{sx:{width:"100%",marginTop:"20px"},children:[(0,v.jsx)(n.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,v.jsx)(d.A,{value:r,onChange:(e,s)=>{l(s)},"aria-label":"session tabs",children:(0,v.jsx)(o.A,{label:"Details",...(0,N.L7)(0)})})}),(0,v.jsx)(y,{value:r,index:0,children:(0,v.jsx)(A,{details:s,selectedProject:t})})]})})},S={marginTop:"15px",fontWeight:"400",color:"rgba(125, 127, 136, 1)",fontSize:"12px",maxWidth:"80%"},I=e=>{let{trainingSessions:s,selectedProject:a}=e;const i=(0,t.g)(),{id:n}=i,l=s&&s.find((e=>e.ts_id===n));return(0,v.jsx)("div",{children:l&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.A,{name:l.ts_name,firstItem:"Training session",linkTo:"trainsession"}),(0,v.jsxs)("div",{style:{marginTop:"10px"},children:[(0,v.jsx)("h1",{children:l.ts_name}),(0,v.jsx)("p",{style:S,children:"In the training session details you can access detailed information for a specific training session, training session image and other information"})]}),(0,v.jsx)(F,{details:l,selectedProject:a})]})})}},28604:(e,s,a)=>{a.d(s,{A:()=>r});a(65043),a(85040);var i=a(3388),t=a(70579);const r=e=>{let{heading:s,paragraph:a}=e;return(0,t.jsxs)("div",{className:"details__content",children:[(0,t.jsx)(i._Mh,{color:"#3A57E8"}),(0,t.jsxs)("div",{className:"details__content2",children:[(0,t.jsx)("p",{className:"details__para",children:s}),(0,t.jsx)("p",{className:"details__para2",children:a})]})]})}},63847:(e,s,a)=>{a.d(s,{L7:()=>j,Ay:()=>v});var i=a(65043),t=a(7353),r=a(94496),n=a(83625),l=a(24056),d=a(61596),o=(a(85040),a(28604)),c=a(70579);const m=e=>{let{details:s}=e;return(0,c.jsx)("div",{children:(0,c.jsxs)(d.A,{elevation:1,sx:{maxWidth:"30%"},children:[(0,c.jsx)("div",{className:"details__title",children:s.tg_name}),(0,c.jsxs)("div",{style:{padding:"10px",paddingLeft:"20px"},children:[(0,c.jsx)(o.A,{heading:"# of Registered Farmers",paragraph:null!==s.total_participants?s.total_participants:"N/A"}),(0,c.jsx)(o.A,{heading:"Business Advisor",paragraph:s.business_advisor}),(0,c.jsx)(o.A,{heading:"Farmer Trainer",paragraph:s.farmer_trainer}),(0,c.jsx)(o.A,{heading:"TNS ID",paragraph:s.tns_id||"N/A"})]})]})})};var _=a(43845),x=a(2855);const p=e=>{let{trainingSessions:s}=e;const a=[{id:"num",name:"No.",selector:e=>e.num,sortable:!0},{id:"ts_module",name:"Session Name",grow:2,selector:e=>e.ts_module,sortable:!0},{id:"tns_id",name:"TNS ID",selector:e=>e.tns_id,sortable:!0},{id:"farmer_trainer",name:"Farmer Trainer",selector:e=>e.farmer_trainer,sortable:!0},{id:"total_males",name:"MA",selector:e=>e.total_males,sortable:!0},{id:"total_females",name:"FA",selector:e=>e.total_females,sortable:!0},{id:"is_verified",name:"Is Session Verified?",selector:e=>(0,c.jsx)("div",{children:e.is_verified?(0,c.jsx)(_.A,{label:"Yes",color:"success",variant:"outlined"}):(0,c.jsx)(_.A,{label:"No",color:"error",variant:"outlined"})}),sortable:!0},{id:"session_image_status",name:"Session Image Status",grow:2,selector:e=>(0,c.jsx)("div",{children:e.is_verified?"approved"===e.session_image_status?(0,c.jsx)(_.A,{label:e.session_image_status,color:"success",variant:"outlined",title:e.session_image_status}):(0,c.jsx)(_.A,{label:e.session_image_status,color:"error",variant:"outlined",title:e.session_image_status}):(0,c.jsx)(_.A,{label:"not_verified",color:"secondary",variant:"outlined",title:"not_verified"})}),sortable:!0},{id:"session_date",name:"Session Date",selector:e=>e.session_date,sortable:!0}],i=s?s.map(((e,s)=>({num:s+1,ts_id:e.ts_id,ts_name:e.ts_name,ts_module:e.ts_module,tns_id:e.tns_id||"N/A",farmer_trainer:e.farmer_trainer||"N/A",ts_status:e.ts_status,total_males:e.total_males,total_females:e.total_females,has_image:e.has_image,is_verified:e.is_verified,session_image_status:e.session_image_status,session_date:e.session_date||"N/A"}))):[];return(0,c.jsx)("div",{children:(0,c.jsx)(x.A,{columns:a,data:i,tableRowItem:"trainsession"})})},h=e=>{let{details:s,farmVisits:a}=e;const i=a?a.map(((e,s)=>({num:s+1,fv_id:e.fv_id,fv_name:e.fv_name,training_group:e.training_group,training_session:e.training_session,tns_id:e.tns_id,farm_visited:e.farm_visited,household_id:e.household_id,farmer_trainer:e.farmer_trainer,has_training:e.has_training,date_visited:e.date_visited}))):[];return(0,c.jsx)("div",{children:(0,c.jsx)(x.A,{columns:[{id:"num",name:"No.",selector:e=>e.num,sortable:!0},{id:"training_group",name:"FFG Name",selector:e=>e.training_group,sortable:!0},{id:"tns_id",name:"TNS ID",selector:e=>e.tns_id,sortable:!0},{id:"farm_visited",name:"Farm Visited",selector:e=>e.farm_visited,sortable:!0},{id:"farmer_trainer",name:"Farmer Trainer",selector:e=>e.farmer_trainer,sortable:!0},{id:"date_visited",name:"Date Visited",selector:e=>e.date_visited,sortable:!0}],data:i,tableRowItem:"farmvisit",details:s})})},g=e=>{let{participants:s}=e;const a=s?s.map(((e,s)=>({num:s+1,p_id:e.p_id,full_name:`${e.first_name} ${"null"!==e.middle_name?e.middle_name:" "} ${e.last_name}`,gender:"m"===e.gender?"Male":"Female",location:e.location,tns_id:e.tns_id,status:e.status,farmer_trainer:e.farmer_trainer,business_advisor:e.business_advisor}))):[];return(0,c.jsx)("div",{children:(0,c.jsx)(x.A,{columns:[{id:"num",name:"No.",selector:e=>e.num,sortable:!0},{id:"full_name",name:"Full Name",selector:e=>e.full_name,sortable:!0},{id:"gender",name:"Gender",selector:e=>e.gender,sortable:!0},{id:"location",name:"Location",selector:e=>e.location,sortable:!0},{id:"tns_id",name:"TNS ID",selector:e=>e.tns_id,sortable:!0},{id:"farmer_trainer",name:"Farmer Trainer",selector:e=>e.farmer_trainer,sortable:!0},{id:"business_advisor",name:"Business Advisor",selector:e=>e.business_advisor,sortable:!0}],data:a,tableRowItem:"participants"})})};function u(e){const{children:s,value:a,index:i,...n}=e;return(0,c.jsx)("div",{role:"tabpanel",hidden:a!==i,id:`simple-tabpanel-${i}`,"aria-labelledby":`simple-tab-${i}`,...n,children:a===i&&(0,c.jsx)(t.A,{sx:{p:3},children:(0,c.jsx)(r.A,{children:s})})})}function j(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}function v(e){let{details:s,trainingSessions:a,farmVisits:r,participants:d}=e;const[o,_]=(0,i.useState)(0);return(0,c.jsxs)(t.A,{sx:{width:"100%",marginTop:"20px"},children:[(0,c.jsx)(t.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,c.jsxs)(n.A,{value:o,onChange:(e,s)=>{_(s)},"aria-label":"basic tabs example",children:[(0,c.jsx)(l.A,{label:"FFG Details",...j(0)}),(0,c.jsx)(l.A,{label:"FFG sessions",...j(1)}),(0,c.jsx)(l.A,{label:"FFG Farm Visits",...j(2)}),(0,c.jsx)(l.A,{label:"FFG Participants",...j(2)})]})}),(0,c.jsx)(u,{value:o,index:0,children:(0,c.jsx)(m,{details:s})}),(0,c.jsx)(u,{value:o,index:1,children:(0,c.jsx)(p,{trainingSessions:a})}),(0,c.jsx)(u,{value:o,index:2,children:(0,c.jsx)(h,{farmVisits:r})}),(0,c.jsx)(u,{value:o,index:3,children:(0,c.jsx)(g,{participants:d})})]})}},82407:(e,s,a)=>{a.d(s,{A:()=>d});a(65043);var i=a(22698),t=a(35475),r=a(51640),n=a(70579);const l=(0,r.A)(t.N_)((e=>{let{theme:s}=e;return{textDecoration:"none",color:"inherit",transition:"color 0.3s ease-in-out","&:hover":{color:"#25245D",fontWeight:"600"}}})),d=e=>{let{name:s,firstItem:a,linkTo:t}=e;return(0,n.jsx)("div",{role:"presentation",children:(0,n.jsxs)(i.A,{"aria-label":"breadcrumb",sx:{fontSize:"12px",cursor:"pointer"},children:[(0,n.jsx)(l,{to:`/in/${t}`,children:a}),(0,n.jsx)(l,{href:"","aria-current":"page",children:s.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")})]})})}},85040:()=>{}}]);
//# sourceMappingURL=287.87eb1d98.chunk.js.map
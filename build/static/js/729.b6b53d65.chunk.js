"use strict";(self.webpackChunkmypima_front=self.webpackChunkmypima_front||[]).push([[729],{97633:(e,s,i)=>{i.r(s),i.d(s,{default:()=>C});var a=i(65043),t=i(73216),n=i(82407),d=i(7353),r=i(94496),l=i(83625),o=i(24056),c=i(3438),x=i(61596),h=i(34535),g=(i(30325),i(47665)),p=i(45476),m=i(88250),j=i(84548),u=i(45421),v=i(31995),_=i(70579);const f=e=>{let{stats:s}=e,i=0,a=0;i+=isNaN(s.total_males)?0:Number(s.total_males),a+=isNaN(s.total_females)?0:Number(s.total_females);const t=i+a,n=t>0?i/t*100:0,d=t>0?a/t*100:0;return(0,_.jsx)("div",{children:(0,_.jsxs)("div",{className:"cardts__container",children:[(0,_.jsx)("p",{style:{color:"#7D7F88",fontWeight:"600",paddingBottom:"10px"},children:"Total Attendance"}),(0,_.jsx)("div",{style:{display:"flex"},children:(0,_.jsx)("div",{style:{width:"300px"},children:n>0||d>0?(0,_.jsx)(v.r,{series:[{arcLabel:e=>`${e.value}%`,arcLabelMinAngle:65,data:[{id:0,value:n.toFixed(1),label:"Male",color:"#3F51B5"},{id:1,value:d.toFixed(1),label:"Female",color:"#FF4081"}]}],width:230,height:200}):(0,_.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,_.jsx)("p",{children:"No data to display"})})})})]})})},b=(0,h.Ay)(c.A)((e=>{let{theme:s}=e;return{marginBottom:"10px",marginRight:"10px",textTransform:"initial",backgroundColor:"rgba(244, 103, 0, 1)",color:"#fff","&:hover":{backgroundColor:"rgba(244, 103, 0, 0.5)",transition:"background-color 0.3s ease-in-out"}}})),A=e=>{let{details:s,selectedProject:i}=e;const[t,n]=(0,a.useState)(!1),[d,r]=(0,a.useState)(null),{data:l,loading:o}=(0,m.I)(j.jq,{variables:{tsId:s.ts_id}});return(0,a.useEffect)((()=>{!o&&l.trainingSessionImage&&200===l.trainingSessionImage.status&&r(l.trainingSessionImage.trainingSessionImage)}),[l,o]),(0,_.jsx)("div",{children:(0,_.jsxs)(x.A,{elevation:2,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"details__title",children:s.ts_name}),(0,_.jsx)("div",{style:{padding:"10px",paddingLeft:"20px"}}),(0,_.jsxs)("div",{className:"ts__details-container",style:{display:"flex",gap:"50px"},children:[(0,_.jsx)("div",{style:{width:"250px"},children:(0,_.jsx)(f,{stats:s})}),(0,_.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,_.jsxs)("div",{className:"ts__details-container1",children:[(0,_.jsx)(g.A,{heading:"Module Name",paragraph:s.ts_module}),(0,_.jsx)("div",{style:{paddingBottom:"20px"}}),(0,_.jsx)(g.A,{heading:"Male Attendance",paragraph:s.total_males||"N/A"})]}),(0,_.jsxs)("div",{className:"ts__details-container1",children:[(0,_.jsx)(g.A,{heading:"Training Group",paragraph:s.ts_group})," ",(0,_.jsx)("div",{style:{paddingBottom:"20px"}}),(0,_.jsx)(g.A,{heading:"Female Attendance",paragraph:s.total_females||"N/A"})]})," ",(0,_.jsxs)("div",{className:"ts__details-container1",children:[(0,_.jsx)(g.A,{heading:"Business Advisor",paragraph:"Peace Ishimwe"})," ",(0,_.jsx)("div",{style:{paddingBottom:"20px"}}),(0,_.jsx)(g.A,{heading:"TNS ID",paragraph:s.tns_id||"N/A"})]}),(0,_.jsxs)("div",{className:"ts__details-container1",children:[(0,_.jsx)(g.A,{heading:"Farmer Trainer",paragraph:s.farmer_trainer||"N/A"}),(0,_.jsx)("div",{style:{paddingBottom:"20px"}}),(0,_.jsx)(g.A,{heading:"Is Session Verified?",paragraph:s.is_verified?"Yes":"No"})]}),(0,_.jsxs)("div",{className:"ts__details-container1",children:[(0,_.jsx)(g.A,{heading:"Session Image Status",paragraph:s.session_image_status}),(0,_.jsx)("div",{style:{paddingBottom:"20px"}}),(0,_.jsx)(g.A,{heading:"Session Date",paragraph:s.session_date})]})]})]})]}),(0,_.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,_.jsx)(b,{onClick:()=>{n(!0)},id:"demo-customized-button","aria-controls":t?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":t?"true":void 0,disabled:!s.has_image,style:{backgroundColor:""+(d?"rgba(244, 103, 0, 1)":"rgba(244, 103, 0, 0.5)"),color:"#fff",cursor:""+(s.has_image?"pointer":"not-allowed")},children:o?(0,_.jsx)(u.A,{color:"rgba(244, 103, 0, 1)",loading:o,size:10}):"View Session Image"}),t&&(0,_.jsx)(p.A,{open:t,handleClose:()=>{n(!1)},id:s.ts_id,isVerified:s.is_verified,imageStatus:s.session_image_status,sessionImageUrl:d,selectedProject:i,data:s})]})]})})};var y=i(55293);function N(e){const{children:s,value:i,index:a,...t}=e;return(0,_.jsx)("div",{role:"tabpanel",hidden:i!==a,id:`simple-tabpanel-${a}`,"aria-labelledby":`simple-tab-${a}`,...t,children:i===a&&(0,_.jsx)(d.A,{sx:{p:3},children:(0,_.jsx)(r.A,{children:s})})})}const S=e=>{let{details:s,farmVisits:i,selectedProject:t}=e;const[n,r]=(0,a.useState)(0);return(0,_.jsx)("div",{children:(0,_.jsxs)(d.A,{sx:{width:"100%",marginTop:"20px"},children:[(0,_.jsx)(d.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,_.jsx)(l.A,{value:n,onChange:(e,s)=>{r(s)},"aria-label":"session tabs",children:(0,_.jsx)(o.A,{label:"Details",...(0,y.L7)(0)})})}),(0,_.jsx)(N,{value:n,index:0,children:(0,_.jsx)(A,{details:s,selectedProject:t})})]})})},I={marginTop:"15px",fontWeight:"400",color:"rgba(125, 127, 136, 1)",fontSize:"12px",maxWidth:"80%"},C=()=>{const{activeProject:e,trainingSessions:s}=(0,t.KC)(),i=(0,t.g)(),{id:a}=i,d=s&&s.find((e=>e.ts_id===a));return(0,_.jsx)("div",{children:d&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(n.A,{name:d.ts_name,firstItem:"Training session",linkTo:"trainsession"}),(0,_.jsxs)("div",{style:{marginTop:"10px"},children:[(0,_.jsx)("h1",{children:d.ts_name}),(0,_.jsx)("p",{style:I,children:"In the training session details you can access detailed information for a specific training session, training session image and other information"})]}),(0,_.jsx)(S,{details:d,selectedProject:e})]})})}}}]);
//# sourceMappingURL=729.b6b53d65.chunk.js.map
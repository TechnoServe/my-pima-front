{"version":3,"file":"static/js/17.b11cfbc2.chunk.js","mappings":"oOAQA,MAwGA,EAxGkBA,IAA0B,IAAzB,gBAAEC,GAAiBD,EACpC,MAAOE,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,KACvC,KAAEC,EAAI,MAAEC,EAAK,QAAEC,IAAYC,EAAAA,EAAAA,GAASC,EAAAA,GAA6B,CACrEC,UAAW,CAAEC,UAAWV,MAG1BW,EAAAA,EAAAA,YAAU,KACR,GAAIP,EAAM,CACR,MAAMQ,EAAiBR,EAAKS,uBAC5BX,EAC4B,MAA1BU,EAAeE,OAAiBF,EAAeX,WAAa,GAEhE,CAEII,GACFU,EAAAA,GAAMV,MAAMA,EAAMW,QACpB,GACC,CAACZ,EAAMC,IAEV,MAyCMY,EAAOhB,EACTA,EAAWiB,KAAI,CAACC,EAAIC,KAAK,CACvBC,IAAKD,EAAQ,EACbE,MAAOH,EAAGG,MACVC,QAASJ,EAAGI,QACZC,eAAgBL,EAAGK,eACnBC,iBAAkBN,EAAGM,iBACrBC,UAAWP,EAAGO,UACdC,cAAeR,EAAGQ,cAClBC,iBAAkBT,EAAGS,iBACrBC,kBAAmBV,EAAGU,kBACtBC,eAAgBX,EAAGW,eACnBC,aAAcZ,EAAGY,aACjBC,aAAcb,EAAGa,aACjBC,eAAgBd,EAAGc,eACnBC,aAAcf,EAAGe,aACjBC,aAAchB,EAAGgB,aACjBC,OAAQjB,EAAGiB,WAEb,GAEJ,OAAI/B,GAEAgC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,UAChCF,EAAAA,EAAAA,KAACG,EAAAA,EAAU,CAACC,MAAM,QAAOF,SAAC,0BAK9BG,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBC,SAAC,qBAC/BjC,GACC+B,EAAAA,EAAAA,KAACM,EAAAA,EAAa,IACZ1C,EAAW2C,OAAS,GACtBP,EAAAA,EAAAA,KAACQ,EAAAA,EAAK,CAACC,QA3EG,CACd,CAAEC,GAAI,MAAOC,KAAM,MAAOC,SAAWC,GAAQA,EAAI7B,IAAK8B,UAAU,GAChE,CACEJ,GAAI,iBACJC,KAAM,UACNC,SAAWC,GAAQA,EAAI1B,eACvB2B,UAAU,GAEZ,CACEJ,GAAI,gBACJC,KAAM,gBACNC,SAAWC,GAAQA,EAAIvB,cACvBwB,UAAU,GAEZ,CACEJ,GAAI,eACJC,KAAM,eACNC,SAAWC,GAAQA,EAAInB,aACvBoB,UAAU,GAEZ,CACEJ,GAAI,SACJC,KAAM,SACNC,SAAWC,GAAQA,EAAId,OACvBe,UAAU,GAEZ,CACEJ,GAAI,iBACJC,KAAM,iBACNC,SAAWC,GAAQA,EAAIjB,eACvBkB,UAAU,GAEZ,CACEJ,GAAI,eACJC,KAAM,eACNC,SAAWC,GAAQA,EAAIf,aACvBgB,UAAU,IAuCiB/C,KAAMa,EAAMmC,aApCtB,eAsCff,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACvBF,EAAAA,EAAAA,KAAA,MAAIgB,MAAO,CAAEC,SAAU,QAASf,SAAC,0BAGjC,C","sources":["pages/FarmVisit.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_FARM_VISITS_PER_PROJECT } from \"../graphql/queries/farmVisitsRequests\";\r\nimport Table from \"../components/Table/Table\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { Typography } from \"@mui/material\";\r\nimport LoadingScreen from \"../components/LoadingScreen\";\r\n\r\nconst FarmVisit = ({ selectedProject }) => {\r\n  const [farmVisits, setFarmVisits] = useState([]);\r\n  const { data, error, loading } = useQuery(GET_FARM_VISITS_PER_PROJECT, {\r\n    variables: { projectId: selectedProject },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const farmVisitsData = data.getFarmVisitsByProject;\r\n      setFarmVisits(\r\n        farmVisitsData.status === 200 ? farmVisitsData.farmVisits : []\r\n      );\r\n    }\r\n\r\n    if (error) {\r\n      toast.error(error.message);\r\n    }\r\n  }, [data, error]);\r\n\r\n  const columns = [\r\n    { id: \"num\", name: \"No.\", selector: (row) => row.num, sortable: true },\r\n    {\r\n      id: \"training_group\",\r\n      name: \"TG Name\",\r\n      selector: (row) => row.training_group,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"farmer_tns_id\",\r\n      name: \"TNS Farmer ID\",\r\n      selector: (row) => row.farmer_tns_id,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"farm_visited\",\r\n      name: \"Farm Visited\",\r\n      selector: (row) => row.farm_visited,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"gender\",\r\n      name: \"Gender\",\r\n      selector: (row) => row.gender,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"farmer_trainer\",\r\n      name: \"Farmer Trainer\",\r\n      selector: (row) => row.farmer_trainer,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"date_visited\",\r\n      name: \"Date Visited\",\r\n      selector: (row) => row.date_visited,\r\n      sortable: true,\r\n    }\r\n  ];\r\n  const tableRowItem = \"farmvisit\";\r\n\r\n  const rows = farmVisits\r\n    ? farmVisits.map((fv, index) => ({\r\n        num: index + 1,\r\n        fv_id: fv.fv_id,\r\n        fv_name: fv.fv_name,\r\n        training_group: fv.training_group,\r\n        training_session: fv.training_session,\r\n        tg_tns_id: fv.tg_tns_id,\r\n        farmer_tns_id: fv.farmer_tns_id,\r\n        household_tns_id: fv.household_tns_id,\r\n        pima_household_id: fv.pima_household_id,\r\n        pima_farmer_id: fv.pima_farmer_id,\r\n        farm_visited: fv.farm_visited,\r\n        household_id: fv.household_id,\r\n        farmer_trainer: fv.farmer_trainer,\r\n        has_training: fv.has_training,\r\n        date_visited: fv.date_visited,\r\n        gender: fv.gender\r\n      }))\r\n    : [];\r\n\r\n  if (error)\r\n    return (\r\n      <div className=\"circular_progress\">\r\n        <Typography color=\"error\">Error loading data</Typography>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"page__container\">\r\n      <h1 className=\"module__heading\">Farm Visits View</h1>\r\n      {loading ? (\r\n        <LoadingScreen />\r\n      ) : farmVisits.length > 0 ? (\r\n        <Table columns={columns} data={rows} tableRowItem={tableRowItem} />\r\n      ) : (\r\n        <div className=\"no__data\">\r\n          <h1 style={{ fontSize: \"20px\" }}>No Farm Visit Yet</h1>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FarmVisit;\r\n"],"names":["_ref","selectedProject","farmVisits","setFarmVisits","useState","data","error","loading","useQuery","GET_FARM_VISITS_PER_PROJECT","variables","projectId","useEffect","farmVisitsData","getFarmVisitsByProject","status","toast","message","rows","map","fv","index","num","fv_id","fv_name","training_group","training_session","tg_tns_id","farmer_tns_id","household_tns_id","pima_household_id","pima_farmer_id","farm_visited","household_id","farmer_trainer","has_training","date_visited","gender","_jsx","className","children","Typography","color","_jsxs","LoadingScreen","length","Table","columns","id","name","selector","row","sortable","tableRowItem","style","fontSize"],"sourceRoot":""}
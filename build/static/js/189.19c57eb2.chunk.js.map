{"version":3,"file":"static/js/189.19c57eb2.chunk.js","mappings":"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","sources":["pages/TrainingSession.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Chip } from \"@mui/material\";\r\nimport Table from \"../components/Table/Table\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_TRAINING_MODULES_PER_PROJECT } from \"../graphql/queries/trainingModulesRequests\";\r\n\r\nconst TrainingSession = ({\r\n  trainingSessions,\r\n  filter,\r\n  setFilter,\r\n  setFilteredSessions,\r\n  selectedProject,\r\n}) => {\r\n  const columns = [\r\n    {\r\n      id: \"num\",\r\n      name: \"No.\",\r\n      selector: (row) => row.num,\r\n      sortable: true,\r\n      grow: 1,\r\n    },\r\n    {\r\n      id: \"ts_module\",\r\n      name: \"Session Name\",\r\n      selector: (row) => row.ts_module,\r\n      sortable: true,\r\n      grow: 2,\r\n    },\r\n    {\r\n      id: \"ts_group\",\r\n      name: \"Training Group\",\r\n      selector: (row) => row.ts_group,\r\n      sortable: true,\r\n      grow: 2,\r\n    },\r\n    {\r\n      id: \"tns_id\",\r\n      name: \"TNS ID\",\r\n      selector: (row) => row.tns_id,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"farmer_trainer\",\r\n      name: \"Farmer Trainer\",\r\n      selector: (row) => row.farmer_trainer,\r\n      sortable: true,\r\n      grow: 2,\r\n    },\r\n    {\r\n      id: \"total_males\",\r\n      name: \"MA\",\r\n      selector: (row) => row.total_males,\r\n      sortable: true,\r\n      grow: 1,\r\n    },\r\n    {\r\n      id: \"total_females\",\r\n      name: \"FA\",\r\n      selector: (row) => row.total_females,\r\n      sortable: true,\r\n      grow: 1,\r\n    },\r\n    {\r\n      id: \"has_image\",\r\n      name: \"Has Image?\",\r\n      selector: (row) => (\r\n        <div>\r\n          {row.has_image ? (\r\n            <Chip label={\"Yes\"} color=\"success\" variant=\"outlined\" />\r\n          ) : (\r\n            <Chip label={\"No\"} color=\"error\" variant=\"outlined\" />\r\n          )}\r\n        </div>\r\n      ),\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"is_verified\",\r\n      name: \"Is Session Verified?\",\r\n      selector: (row) => (\r\n        <div>\r\n          {row.is_verified ? (\r\n            <Chip label={\"Yes\"} color=\"success\" variant=\"outlined\" />\r\n          ) : (\r\n            <Chip label={\"No\"} color=\"error\" variant=\"outlined\" />\r\n          )}\r\n        </div>\r\n      ),\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"session_image_status\",\r\n      name: \"Session Image Status\",\r\n      grow: 2,\r\n      selector: (row) => (\r\n        <div>\r\n          {!row.is_verified ? (\r\n            <Chip\r\n              label={\"not_verified\"}\r\n              color=\"secondary\"\r\n              variant=\"outlined\"\r\n              title={\"not_verified\"}\r\n            />\r\n          ) : (\r\n            <Chip\r\n              label={row.session_image_status}\r\n              color=\"success\"\r\n              variant=\"outlined\"\r\n              title={row.session_image_status}\r\n            />\r\n          )}\r\n        </div>\r\n      ),\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"session_date\",\r\n      name: \"Session Date\",\r\n      selector: (row) => row.session_date,\r\n      sortable: true,\r\n      grow: 2,\r\n    },\r\n  ];\r\n\r\n  const tableRowItem = \"trainsession\";\r\n\r\n  const rows = trainingSessions\r\n    ? trainingSessions.map((trainingSession, index) => ({\r\n        num: index + 1,\r\n        ts_id: trainingSession.ts_id,\r\n        ts_name: trainingSession.ts_name,\r\n        ts_module: trainingSession.ts_module,\r\n        ts_group: trainingSession.ts_group,\r\n        tns_id: trainingSession.tns_id || \"N/A\",\r\n        farmer_trainer: trainingSession.farmer_trainer,\r\n        ts_status: trainingSession.ts_status,\r\n        total_males: trainingSession.total_males,\r\n        total_females: trainingSession.total_females,\r\n        has_image: trainingSession.has_image,\r\n        is_verified: trainingSession.is_verified,\r\n        session_image_status: trainingSession.session_image_status,\r\n        session_date: trainingSession.session_date,\r\n      }))\r\n    : [];\r\n\r\n  const getProjectModules = useQuery(GET_TRAINING_MODULES_PER_PROJECT, {\r\n    variables: { projectId: selectedProject },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (\r\n      getProjectModules.data &&\r\n      getProjectModules.data.getTrainingModulesByProject &&\r\n      getProjectModules.data.getTrainingModulesByProject.status === 200 &&\r\n      trainingSessions &&\r\n      trainingSessions.length > 0\r\n    ) {\r\n      if (\r\n        getProjectModules.data.getTrainingModulesByProject.training_modules.filter(\r\n          (module) =>\r\n            trainingSessions.map((d) => d.ts_module).includes(module.tm_title)\r\n        ).length > 0\r\n      ) {\r\n        setFilteredSessions(\r\n          trainingSessions.filter(\r\n            (session) =>\r\n              session.ts_module ===\r\n              getProjectModules.data.getTrainingModulesByProject.training_modules\r\n                .filter((module) =>\r\n                  trainingSessions\r\n                    .map((d) => d.ts_module)\r\n                    .includes(module.tm_title)\r\n                )\r\n                .sort((a, b) => new Date(b.tm_date) - new Date(a.tm_date))[0]\r\n                .tm_title\r\n          )\r\n        );\r\n      }\r\n    }\r\n  }, [selectedProject]);\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"module__heading\">Training Sessions</h1>\r\n      <Table\r\n        columns={columns}\r\n        data={rows}\r\n        tableRowItem={tableRowItem}\r\n        filter={filter}\r\n        setFilter={setFilter}\r\n        setFilteredSessions={setFilteredSessions}\r\n        selectedProject={selectedProject}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrainingSession;\r\n"],"names":["_ref","trainingSessions","filter","setFilter","setFilteredSessions","selectedProject","columns","id","name","selector","row","num","sortable","grow","ts_module","ts_group","tns_id","farmer_trainer","total_males","total_females","_jsx","children","has_image","Chip","label","color","variant","is_verified","session_image_status","title","session_date","rows","map","trainingSession","index","ts_id","ts_name","ts_status","getProjectModules","useQuery","GET_TRAINING_MODULES_PER_PROJECT","variables","projectId","useEffect","data","getTrainingModulesByProject","status","length","training_modules","module","d","includes","tm_title","session","sort","a","b","Date","tm_date","_jsxs","className","Table","tableRowItem"],"sourceRoot":""}
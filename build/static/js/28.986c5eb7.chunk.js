"use strict";(self.webpackChunkmypima_front=self.webpackChunkmypima_front||[]).push([[28],{50910:function(n,e,t){t(72791);var a=t(93517),i=t(11087),r=t(91203),s=t(80184),o=(0,r.Z)(i.rU)((function(n){n.theme;return{textDecoration:"none",color:"inherit",transition:"color 0.3s ease-in-out","&:hover":{color:"#25245D",fontWeight:"600"}}}));e.Z=function(n){var e=n.name,t=n.firstItem,i=n.linkTo;return(0,s.jsx)("div",{role:"presentation",children:(0,s.jsxs)(a.Z,{"aria-label":"breadcrumb",sx:{fontSize:"12px",cursor:"pointer"},children:[(0,s.jsx)(o,{to:"/in/".concat(i),children:t}),(0,s.jsx)(o,{href:"","aria-current":"page",children:e.split(" ").map((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})).join(" ")})]})})}},50284:function(n,e,t){t(72791);var a=t(13239),i=t(80184);e.Z=function(){return(0,i.jsxs)("div",{className:"circular_progress",children:[(0,i.jsxs)("div",{className:"spinner-container",children:[(0,i.jsx)("div",{className:"spinner-glow"}),(0,i.jsx)(a.Z,{className:"spinner",size:80,thickness:4.5,style:{color:"#1b2a4e"}})]}),(0,i.jsx)("h2",{children:"Loading Data..."})]})}},39951:function(n,e,t){t.r(e),t.d(e,{default:function(){return B}});var a=t(29439),i=t(72791),r=t(50910),s=t(86473),o=t(94721),d=t(75546),l=t(80184),c=function(n){var e=n.participant;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"partscontent__container",children:[(0,l.jsx)("div",{className:"parts__image",style:{display:"flex",alignSelf:"center"},children:(0,l.jsx)(d.ZP,{name:e.full_name,size:"50",textSizeRatio:1.75,round:!0,color:"#8A92A6"})}),(0,l.jsx)("p",{style:{fontSize:"14px",fontWeight:"500",paddingTop:"15px",paddingBottom:"15px",textAlign:"center"},children:e.full_name}),(0,l.jsx)(o.Z,{light:!0}),(0,l.jsxs)("div",{className:"parts__details",style:{marginTop:" 40px"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(s.Z,{heading:"Full Names",paragraph:"".concat(e.first_name," ").concat("null"!==e.middle_name?e.middle_name:""," ").concat(e.last_name)}),(0,l.jsx)(s.Z,{heading:"Location",paragraph:e.location}),(0,l.jsx)(s.Z,{heading:"Farmer Trainer",paragraph:e.farmer_trainer}),(0,l.jsx)(s.Z,{heading:"Business Advisor",paragraph:e.business_advisor}),(0,l.jsx)(s.Z,{heading:"Gender",paragraph:"m"===e.gender?"Male":"Female"}),(0,l.jsx)(s.Z,{heading:"TNS ID",paragraph:e.tns_id})]}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{style:{fontSize:"11px",paddingTop:"40px"}})})]})]})})},u=t(1413),m=t(45987),_=t(16029),p=t(20890),f=t(29684),h=t(43896),g=t(64264),x=t(65770),v=t(32543),j=t(3095),b=t(56789),Z=t(81918),N=function(n){var e=n.trainingSessions,t=n.participant,r=(0,i.useState)([]),s=(0,a.Z)(r,2),o=s[0],d=s[1],c=[{id:"num",name:"No.",selector:function(n){return n.num},sortable:!0},{id:"session_name",name:"Module Name",selector:function(n){return n.session_name},sortable:!0},{id:"attendance_status",name:"Status",selector:function(n){return(0,l.jsx)("div",{children:"Present"===n.attendance_status?(0,l.jsx)(Z.Z,{label:"Attended",color:"success",variant:"outlined"}):(0,l.jsx)(Z.Z,{label:"Missed",color:"error",variant:"outlined"})})},sortable:!0},{id:"attendance_date",name:"Date",selector:function(n){return n.attendance_date},sortable:!0}],u=(0,v.a)(j.NN,{variables:{participantId:t.p_id}});return(0,i.useEffect)((function(){if(u.data){var n=u.data.getAttendanceByParticipant.attendance,e=n?n.map((function(n,e){return{num:e+1,attendance_id:n.attendance_id,ts_id:n.session_id,session_name:n.module_name,attendance_name:n.attendance_name,attendance_status:n.attendance_status,attendance_date:n.attendance_date}})):[];d(e)}}),[u.data,e]),(0,l.jsx)(l.Fragment,{children:u.data?(0,l.jsx)("div",{children:u.data.getAttendanceByParticipant.attendance&&u.data.getAttendanceByParticipant.attendance.length>0?(0,l.jsx)(x.Z,{columns:c,data:o,tableRowItem:"trainsession",participant:t}):(0,l.jsx)("div",{className:"no__data",children:(0,l.jsx)("h1",{style:{fontSize:"20px"},children:"No Attendance Yet"})})}):u.loading?(0,l.jsx)(b.Z,{color:"#0D3C61",size:15,style:{display:"flex",justifyContent:"center"}}):(0,l.jsx)("div",{className:"no__data",children:(0,l.jsx)("h1",{style:{fontSize:"20px"},children:"No Attendance Yet"})})})},y=function(n){var e=n.farmVisitsPerPart,t=e?e.map((function(n,e){return{num:e+1,fv_id:n.fv_id,fv_name:n.fv_name,training_group:n.training_group,training_session:n.training_session,tns_id:n.tns_id,farm_visited:n.farm_visited,household_id:n.household_id,farmer_trainer:n.farmer_trainer,has_training:n.has_training,date_visited:n.date_visited}})):[];return(0,l.jsx)("div",{children:(0,l.jsx)(x.Z,{columns:[{id:"num",name:"No.",selector:function(n){return n.num},sortable:!0},{id:"training_group",name:"Training Group",selector:function(n){return n.training_group},sortable:!0},{id:"tns_id",name:"TNS ID",selector:function(n){return n.tns_id},sortable:!0},{id:"farm_visited",name:"Farm Visited",selector:function(n){return n.farm_visited},sortable:!0},{id:"farmer_trainer",name:"Farmer Trainer",selector:function(n){return n.farmer_trainer},sortable:!0},{id:"date_visited",name:"Date Visited",selector:function(n){return n.date_visited},sortable:!0}],data:t,tableRowItem:"farmvisit"})})},P=["children","value","index"];function S(n){var e=n.children,t=n.value,a=n.index,i=(0,m.Z)(n,P);return(0,l.jsx)("div",(0,u.Z)((0,u.Z)({role:"tabpanel",hidden:t!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},i),{},{children:t===a&&(0,l.jsx)(_.Z,{sx:{p:3},children:(0,l.jsx)(p.Z,{children:e})})}))}var F=function(n){var e=n.trainingSessions,t=n.participant,r=n.farmVisitsPerPart;console.log(r);var s=(0,i.useState)(0),o=(0,a.Z)(s,2),d=o[0],c=o[1];return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(_.Z,{sx:{width:"100%"},children:[(0,l.jsx)(_.Z,{sx:{borderBottom:1,borderColor:"divider",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",backgroundColor:"rgba(0, 165, 163, 0.1)"},children:(0,l.jsxs)(f.Z,{value:d,onChange:function(n,e){c(e)},"aria-label":"basic tabs example",textColor:"primary",children:[(0,l.jsx)(h.Z,(0,u.Z)({label:"Farm Visit History"},(0,g.Pf)(0))),(0,l.jsx)(h.Z,(0,u.Z)({label:"TS Attendance History"},(0,g.Pf)(1)))]})}),(0,l.jsx)(S,{value:d,index:0,children:(0,l.jsx)(y,{trainingSessions:e,participant:t,farmVisitsPerPart:r})}),(0,l.jsx)(S,{value:d,index:1,children:(0,l.jsx)(N,{trainingSessions:e,participant:t})})]})})},I=t(57689),A=t(16704),T=t(50284),B=function(){var n,e=(0,i.useState)([]),t=(0,a.Z)(e,2),s=t[0],o=t[1],d=(0,I.UO)().id,u=(0,v.a)(j.uK,{variables:{id:d}}),m=u.loading,_=u.error,f=u.data,h=(0,v.a)(A.p7,{variables:{partId:d},skip:!d}),g=h.loading,x=h.error,b=h.data;if((0,i.useEffect)((function(){if(b){var n=b.getFarmVisitsByParticipant.farmVisits;o(n)}}),[b]),m||g)return(0,l.jsx)(T.Z,{});if(_||x)return(0,l.jsx)("div",{className:"error__container",children:(0,l.jsx)(p.Z,{color:"error",children:(null===_||void 0===_?void 0:_.message)||(null===x||void 0===x?void 0:x.message)})});var Z=null===f||void 0===f||null===(n=f.getParticipantsById)||void 0===n?void 0:n.participant;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.Z,{name:"Details",firstItem:"Participants",linkTo:"participants"}),(0,l.jsx)("div",{className:"parts__container",children:Z?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"parts__detailcontent",children:(0,l.jsx)(c,{participant:Z})}),(0,l.jsx)("div",{className:"parts__tablecontent",children:(0,l.jsx)(F,{participant:Z,farmVisitsPerPart:s})})]}):(0,l.jsx)("div",{className:"no__data",children:(0,l.jsx)("h1",{style:{fontSize:"20px"},children:"No Participant Selected"})})})]})}},86473:function(n,e,t){t(72791),t(46821);var a=t(81545),i=t(80184);e.Z=function(n){var e=n.heading,t=n.paragraph;return(0,i.jsxs)("div",{className:"details__content",children:[(0,i.jsx)(a.LD$,{color:"#3A57E8"}),(0,i.jsxs)("div",{className:"details__content2",children:[(0,i.jsx)("p",{className:"details__para",children:e}),(0,i.jsx)("p",{className:"details__para2",children:t})]})]})}},64264:function(n,e,t){t.d(e,{Pf:function(){return Z},ZP:function(){return N}});var a=t(29439),i=t(1413),r=t(45987),s=t(72791),o=t(16029),d=t(20890),l=t(29684),c=t(43896),u=t(35527),m=(t(46821),t(86473)),_=t(80184),p=function(n){var e=n.details;return(0,_.jsx)("div",{children:(0,_.jsxs)(u.Z,{elevation:1,sx:{maxWidth:"30%"},children:[(0,_.jsx)("div",{className:"details__title",children:e.tg_name}),(0,_.jsxs)("div",{style:{padding:"10px",paddingLeft:"20px"},children:[(0,_.jsx)(m.Z,{heading:"# of Registered Farmers",paragraph:null!==e.total_participants?e.total_participants:"N/A"}),(0,_.jsx)(m.Z,{heading:"Business Advisor",paragraph:e.business_advisor}),(0,_.jsx)(m.Z,{heading:"Farmer Trainer",paragraph:e.farmer_trainer}),(0,_.jsx)(m.Z,{heading:"TNS ID",paragraph:e.tns_id||"N/A"})]})]})})},f=t(81918),h=t(65770),g=function(n){var e=n.trainingSessions,t=[{id:"num",name:"No.",selector:function(n){return n.num},sortable:!0},{id:"ts_module",name:"Session Name",grow:2,selector:function(n){return n.ts_module},sortable:!0},{id:"tns_id",name:"TNS ID",selector:function(n){return n.tns_id},sortable:!0},{id:"farmer_trainer",name:"Farmer Trainer",selector:function(n){return n.farmer_trainer},sortable:!0},{id:"total_males",name:"MA",selector:function(n){return n.total_males},sortable:!0},{id:"total_females",name:"FA",selector:function(n){return n.total_females},sortable:!0},{id:"is_verified",name:"Is Session Verified?",selector:function(n){return(0,_.jsx)("div",{children:n.is_verified?(0,_.jsx)(f.Z,{label:"Yes",color:"success",variant:"outlined"}):(0,_.jsx)(f.Z,{label:"No",color:"error",variant:"outlined"})})},sortable:!0},{id:"session_image_status",name:"Session Image Status",grow:2,selector:function(n){return(0,_.jsx)("div",{children:n.is_verified?"approved"===n.session_image_status?(0,_.jsx)(f.Z,{label:n.session_image_status,color:"success",variant:"outlined",title:n.session_image_status}):(0,_.jsx)(f.Z,{label:n.session_image_status,color:"error",variant:"outlined",title:n.session_image_status}):(0,_.jsx)(f.Z,{label:"not_verified",color:"secondary",variant:"outlined",title:"not_verified"})})},sortable:!0},{id:"session_date",name:"Session Date",selector:function(n){return n.session_date},sortable:!0}],a=e?e.map((function(n,e){return{num:e+1,ts_id:n.ts_id,ts_name:n.ts_name,ts_module:n.ts_module,tns_id:n.tns_id||"N/A",farmer_trainer:n.farmer_trainer||"N/A",ts_status:n.ts_status,total_males:n.total_males,total_females:n.total_females,has_image:n.has_image,is_verified:n.is_verified,session_image_status:n.session_image_status,session_date:n.session_date||"N/A"}})):[];return(0,_.jsx)("div",{children:(0,_.jsx)(h.Z,{columns:t,data:a,tableRowItem:"trainsession"})})},x=function(n){var e=n.details,t=n.farmVisits,a=t?t.map((function(n,e){return{num:e+1,fv_id:n.fv_id,fv_name:n.fv_name,training_group:n.training_group,training_session:n.training_session,tns_id:n.tns_id,farm_visited:n.farm_visited,household_id:n.household_id,farmer_trainer:n.farmer_trainer,has_training:n.has_training,date_visited:n.date_visited}})):[];return(0,_.jsx)("div",{children:(0,_.jsx)(h.Z,{columns:[{id:"num",name:"No.",selector:function(n){return n.num},sortable:!0},{id:"training_group",name:"FFG Name",selector:function(n){return n.training_group},sortable:!0},{id:"tns_id",name:"TNS ID",selector:function(n){return n.tns_id},sortable:!0},{id:"farm_visited",name:"Farm Visited",selector:function(n){return n.farm_visited},sortable:!0},{id:"farmer_trainer",name:"Farmer Trainer",selector:function(n){return n.farmer_trainer},sortable:!0},{id:"date_visited",name:"Date Visited",selector:function(n){return n.date_visited},sortable:!0}],data:a,tableRowItem:"farmvisit",details:e})})},v=function(n){var e=n.participants,t=e?e.map((function(n,e){return{num:e+1,p_id:n.p_id,full_name:"".concat(n.first_name," ").concat("null"!==n.middle_name?n.middle_name:" "," ").concat(n.last_name),gender:"m"===n.gender?"Male":"Female",location:n.location,tns_id:n.tns_id,status:n.status,farmer_trainer:n.farmer_trainer,business_advisor:n.business_advisor}})):[];return(0,_.jsx)("div",{children:(0,_.jsx)(h.Z,{columns:[{id:"num",name:"No.",selector:function(n){return n.num},sortable:!0},{id:"full_name",name:"Full Name",selector:function(n){return n.full_name},sortable:!0},{id:"gender",name:"Gender",selector:function(n){return n.gender},sortable:!0},{id:"location",name:"Location",selector:function(n){return n.location},sortable:!0},{id:"tns_id",name:"TNS ID",selector:function(n){return n.tns_id},sortable:!0},{id:"farmer_trainer",name:"Farmer Trainer",selector:function(n){return n.farmer_trainer},sortable:!0},{id:"business_advisor",name:"Business Advisor",selector:function(n){return n.business_advisor},sortable:!0}],data:t,tableRowItem:"participants"})})},j=["children","value","index"];function b(n){var e=n.children,t=n.value,a=n.index,s=(0,r.Z)(n,j);return(0,_.jsx)("div",(0,i.Z)((0,i.Z)({role:"tabpanel",hidden:t!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},s),{},{children:t===a&&(0,_.jsx)(o.Z,{sx:{p:3},children:(0,_.jsx)(d.Z,{children:e})})}))}function Z(n){return{id:"simple-tab-".concat(n),"aria-controls":"simple-tabpanel-".concat(n)}}function N(n){var e=n.details,t=n.trainingSessions,r=n.farmVisits,d=n.participants,u=(0,s.useState)(0),m=(0,a.Z)(u,2),f=m[0],h=m[1];return(0,_.jsxs)(o.Z,{sx:{width:"100%",marginTop:"20px"},children:[(0,_.jsx)(o.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,_.jsxs)(l.Z,{value:f,onChange:function(n,e){h(e)},"aria-label":"basic tabs example",children:[(0,_.jsx)(c.Z,(0,i.Z)({label:"FFG Details"},Z(0))),(0,_.jsx)(c.Z,(0,i.Z)({label:"FFG sessions"},Z(1))),(0,_.jsx)(c.Z,(0,i.Z)({label:"FFG Farm Visits"},Z(2))),(0,_.jsx)(c.Z,(0,i.Z)({label:"FFG Participants"},Z(2)))]})}),(0,_.jsx)(b,{value:f,index:0,children:(0,_.jsx)(p,{details:e})}),(0,_.jsx)(b,{value:f,index:1,children:(0,_.jsx)(g,{trainingSessions:t})}),(0,_.jsx)(b,{value:f,index:2,children:(0,_.jsx)(x,{farmVisits:r})}),(0,_.jsx)(b,{value:f,index:3,children:(0,_.jsx)(v,{participants:d})})]})}},3095:function(n,e,t){t.d(e,{Cb:function(){return h},NN:function(){return f},Q8:function(){return m},U:function(){return _},uK:function(){return p},w8:function(){return g}});var a,i,r,s,o,d,l,c=t(30168),u=t(9383),m=((0,u.Ps)(a||(a=(0,c.Z)(["\n  query GetParticipantsAttendanceByProject($projectId: String!) {\n    getParticipantsByProject(project_id: $projectId) {\n      message\n      status\n      participants {\n        p_id\n        first_name\n        middle_name\n        last_name\n        gender\n        age\n        coffee_tree_numbers\n        coop_membership_number\n        phone_number\n        hh_number\n        ffg_id\n        location\n        tns_id\n        status\n        farmer_trainer\n        business_advisor\n        project_name\n        training_group\n        household_id\n        primary_household_member\n        create_in_commcare\n      }\n    }\n    getAttendances(project_id: $projectId) {\n      message\n      status\n      attendance {\n        attendance_id\n        participant_id\n        attendance_name\n        attendance_date\n        attendance_status\n        session_id\n        module_name\n        module_number\n        module_id\n      }\n    }\n  }\n"]))),(0,u.Ps)(i||(i=(0,c.Z)(["\n  query GetParticipantsAttendanceByProject($projectId: String!) {\n    getParticipantsByProject(project_id: $projectId) {\n      message\n      status\n      participants {\n        p_id\n        first_name\n        middle_name\n        last_name\n        gender\n        age\n        coffee_tree_numbers\n        number_of_coffee_plots\n        coop_membership_number\n        phone_number\n        hh_number\n        ffg_id\n        location\n        tns_id\n        status\n        farmer_trainer\n        business_advisor\n        project_name\n        training_group\n        household_id\n        primary_household_member\n        create_in_commcare\n      }\n    }\n  }\n"])))),_=(0,u.Ps)(r||(r=(0,c.Z)(["\n  query GetParticipantsByGroup($tgId: String!) {\n    getParticipantsByGroup(tg_id: $tgId) {\n      message\n      status\n      participants {\n        p_id\n        first_name\n        middle_name\n        last_name\n        gender\n        location\n        tns_id\n        status\n        farmer_trainer\n        business_advisor\n        project_name\n        training_group\n        household_id\n        primary_household_member\n      }\n    }\n  }\n"]))),p=(0,u.Ps)(s||(s=(0,c.Z)(["\n  query GetParticipantsById($id: String!) {\n    getParticipantsById(p_id: $id) {\n      message\n      status\n      participant {\n        p_id\n        first_name\n        middle_name\n        last_name\n        gender\n        location\n        tns_id\n        status\n        farmer_trainer\n        business_advisor\n        project_name\n        training_group\n        household_id\n        primary_household_member\n      }\n    }\n  }\n"]))),f=(0,u.Ps)(o||(o=(0,c.Z)(["\n  query GetAttendanceByParticipant($participantId: String!) {\n    getAttendanceByParticipant(participant_id: $participantId) {\n      message\n      status\n      attendance {\n        attendance_id\n        participant_id\n        attendance_name\n        attendance_date\n        attendance_status\n        module_name\n        session_id\n      }\n    }\n  }\n"]))),h=(0,u.Ps)(d||(d=(0,c.Z)(["\n  mutation UploadParticipants($partsFile: Upload!) {\n    uploadParticipants(parts_file: $partsFile) {\n      message\n      status\n      file\n    }\n  }\n"]))),g=(0,u.Ps)(l||(l=(0,c.Z)(["\n  mutation SyncParticipantsWithCOMMCARE($projectId: String!) {\n    syncParticipantsWithCOMMCARE(project_id: $projectId) {\n      message\n      status\n    }\n  }\n"])))},46821:function(){}}]);
//# sourceMappingURL=28.986c5eb7.chunk.js.map
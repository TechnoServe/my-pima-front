"use strict";(self.webpackChunkmypima_front=self.webpackChunkmypima_front||[]).push([[237],{50910:function(e,i,s){s(72791);var a=s(93517),n=s(11087),t=s(83038),r=s(80184),o=(0,t.Z)(n.rU)((function(e){e.theme;return{textDecoration:"none",color:"inherit",transition:"color 0.3s ease-in-out","&:hover":{color:"#25245D",fontWeight:"600"}}}));i.Z=function(e){var i=e.name,s=e.firstItem,n=e.linkTo;return(0,r.jsx)("div",{role:"presentation",children:(0,r.jsxs)(a.Z,{"aria-label":"breadcrumb",sx:{fontSize:"12px",cursor:"pointer"},children:[(0,r.jsx)(o,{to:"/in/".concat(n),children:s}),(0,r.jsx)(o,{href:"","aria-current":"page",children:i.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")})]})})}},86473:function(e,i,s){s(72791),s(46821);var a=s(81545),n=s(80184);i.Z=function(e){var i=e.heading,s=e.paragraph;return(0,n.jsxs)("div",{className:"details__content",children:[(0,n.jsx)(a.LD$,{color:"#3A57E8"}),(0,n.jsxs)("div",{className:"details__content2",children:[(0,n.jsx)("p",{className:"details__para",children:i}),(0,n.jsx)("p",{className:"details__para2",children:s})]})]})}},64264:function(e,i,s){s.d(i,{Pf:function(){return Z},ZP:function(){return N}});var a=s(29439),n=s(1413),t=s(45987),r=s(72791),o=s(16029),l=s(4567),d=s(92777),c=s(43896),u=s(10703),m=(s(46821),s(86473)),_=s(80184),x=function(e){var i=e.details;return(0,_.jsx)("div",{children:(0,_.jsxs)(u.Z,{elevation:1,sx:{maxWidth:"30%"},children:[(0,_.jsx)("div",{className:"details__title",children:i.tg_name}),(0,_.jsxs)("div",{style:{padding:"10px",paddingLeft:"20px"},children:[(0,_.jsx)(m.Z,{heading:"# of Registered Farmers",paragraph:null!==i.total_participants?i.total_participants:"N/A"}),(0,_.jsx)(m.Z,{heading:"Business Advisor",paragraph:i.business_advisor}),(0,_.jsx)(m.Z,{heading:"Farmer Trainer",paragraph:i.farmer_trainer}),(0,_.jsx)(m.Z,{heading:"TNS ID",paragraph:i.tns_id||"N/A"})]})]})})},f=s(81918),p=s(65770),h=function(e){var i=e.trainingSessions,s=[{id:"num",name:"No.",selector:function(e){return e.num},sortable:!0},{id:"ts_module",name:"Session Name",grow:2,selector:function(e){return e.ts_module},sortable:!0},{id:"tns_id",name:"TNS ID",selector:function(e){return e.tns_id},sortable:!0},{id:"farmer_trainer",name:"Farmer Trainer",selector:function(e){return e.farmer_trainer},sortable:!0},{id:"total_males",name:"MA",selector:function(e){return e.total_males},sortable:!0},{id:"total_females",name:"FA",selector:function(e){return e.total_females},sortable:!0},{id:"is_verified",name:"Is Session Verified?",selector:function(e){return(0,_.jsx)("div",{children:e.is_verified?(0,_.jsx)(f.Z,{label:"Yes",color:"success",variant:"outlined"}):(0,_.jsx)(f.Z,{label:"No",color:"error",variant:"outlined"})})},sortable:!0},{id:"session_image_status",name:"Session Image Status",grow:2,selector:function(e){return(0,_.jsx)("div",{children:e.is_verified?"approved"===e.session_image_status?(0,_.jsx)(f.Z,{label:e.session_image_status,color:"success",variant:"outlined",title:e.session_image_status}):(0,_.jsx)(f.Z,{label:e.session_image_status,color:"error",variant:"outlined",title:e.session_image_status}):(0,_.jsx)(f.Z,{label:"not_verified",color:"secondary",variant:"outlined",title:"not_verified"})})},sortable:!0},{id:"session_date",name:"Session Date",selector:function(e){return e.session_date},sortable:!0}],a=i?i.map((function(e,i){return{num:i+1,ts_id:e.ts_id,ts_name:e.ts_name,ts_module:e.ts_module,tns_id:e.tns_id||"N/A",farmer_trainer:e.farmer_trainer||"N/A",ts_status:e.ts_status,total_males:e.total_males,total_females:e.total_females,has_image:e.has_image,is_verified:e.is_verified,session_image_status:e.session_image_status,session_date:e.session_date||"N/A"}})):[];return(0,_.jsx)("div",{children:(0,_.jsx)(p.Z,{columns:s,data:a,tableRowItem:"trainsession"})})},g=function(e){var i=e.details,s=e.farmVisits,a=s?s.map((function(e,i){return{num:i+1,fv_id:e.fv_id,fv_name:e.fv_name,training_group:e.training_group,training_session:e.training_session,tns_id:e.tns_id,farm_visited:e.farm_visited,household_id:e.household_id,farmer_trainer:e.farmer_trainer,has_training:e.has_training,date_visited:e.date_visited}})):[];return(0,_.jsx)("div",{children:(0,_.jsx)(p.Z,{columns:[{id:"num",name:"No.",selector:function(e){return e.num},sortable:!0},{id:"training_group",name:"FFG Name",selector:function(e){return e.training_group},sortable:!0},{id:"tns_id",name:"TNS ID",selector:function(e){return e.tns_id},sortable:!0},{id:"farm_visited",name:"Farm Visited",selector:function(e){return e.farm_visited},sortable:!0},{id:"farmer_trainer",name:"Farmer Trainer",selector:function(e){return e.farmer_trainer},sortable:!0},{id:"date_visited",name:"Date Visited",selector:function(e){return e.date_visited},sortable:!0}],data:a,tableRowItem:"farmvisit",details:i})})},v=function(e){var i=e.participants,s=i?i.map((function(e,i){return{num:i+1,p_id:e.p_id,full_name:"".concat(e.first_name," ").concat("null"!==e.middle_name?e.middle_name:" "," ").concat(e.last_name),gender:"m"===e.gender?"Male":"Female",location:e.location,tns_id:e.tns_id,status:e.status,farmer_trainer:e.farmer_trainer,business_advisor:e.business_advisor}})):[];return(0,_.jsx)("div",{children:(0,_.jsx)(p.Z,{columns:[{id:"num",name:"No.",selector:function(e){return e.num},sortable:!0},{id:"full_name",name:"Full Name",selector:function(e){return e.full_name},sortable:!0},{id:"gender",name:"Gender",selector:function(e){return e.gender},sortable:!0},{id:"location",name:"Location",selector:function(e){return e.location},sortable:!0},{id:"tns_id",name:"TNS ID",selector:function(e){return e.tns_id},sortable:!0},{id:"farmer_trainer",name:"Farmer Trainer",selector:function(e){return e.farmer_trainer},sortable:!0},{id:"business_advisor",name:"Business Advisor",selector:function(e){return e.business_advisor},sortable:!0}],data:s,tableRowItem:"participants"})})},j=["children","value","index"];function b(e){var i=e.children,s=e.value,a=e.index,r=(0,t.Z)(e,j);return(0,_.jsx)("div",(0,n.Z)((0,n.Z)({role:"tabpanel",hidden:s!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:s===a&&(0,_.jsx)(o.Z,{sx:{p:3},children:(0,_.jsx)(l.Z,{children:i})})}))}function Z(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function N(e){var i=e.details,s=e.trainingSessions,t=e.farmVisits,l=e.participants,u=(0,r.useState)(0),m=(0,a.Z)(u,2),f=m[0],p=m[1];return(0,_.jsxs)(o.Z,{sx:{width:"100%",marginTop:"20px"},children:[(0,_.jsx)(o.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,_.jsxs)(d.Z,{value:f,onChange:function(e,i){p(i)},"aria-label":"basic tabs example",children:[(0,_.jsx)(c.Z,(0,n.Z)({label:"FFG Details"},Z(0))),(0,_.jsx)(c.Z,(0,n.Z)({label:"FFG sessions"},Z(1))),(0,_.jsx)(c.Z,(0,n.Z)({label:"FFG Farm Visits"},Z(2))),(0,_.jsx)(c.Z,(0,n.Z)({label:"FFG Participants"},Z(2)))]})}),(0,_.jsx)(b,{value:f,index:0,children:(0,_.jsx)(x,{details:i})}),(0,_.jsx)(b,{value:f,index:1,children:(0,_.jsx)(h,{trainingSessions:s})}),(0,_.jsx)(b,{value:f,index:2,children:(0,_.jsx)(g,{farmVisits:t})}),(0,_.jsx)(b,{value:f,index:3,children:(0,_.jsx)(v,{participants:l})})]})}},78354:function(e,i,s){s.r(i),s.d(i,{default:function(){return C}});var a=s(72791),n=s(57689),t=s(50910),r=s(29439),o=s(1413),l=s(45987),d=s(16029),c=s(4567),u=s(92777),m=s(43896),_=s(78914),x=s(10703),f=s(66934),p=(s(46821),s(86473)),h=s(35685),g=s(32543),v=s(96019),j=s(56789),b=s(23909),Z=s(80184),N=function(e){var i=e.stats,s=0,a=0,n=(s+=isNaN(i.total_males)?0:Number(i.total_males))+(a+=isNaN(i.total_females)?0:Number(i.total_females)),t=n>0?s/n*100:0,r=n>0?a/n*100:0;return(0,Z.jsx)("div",{children:(0,Z.jsxs)("div",{className:"cardts__container",children:[(0,Z.jsx)("p",{style:{color:"#7D7F88",fontWeight:"600",paddingBottom:"10px"},children:"Total Attendance"}),(0,Z.jsx)("div",{style:{display:"flex"},children:(0,Z.jsx)("div",{style:{width:"300px"},children:t>0||r>0?(0,Z.jsx)(b.u,{series:[{arcLabel:function(e){return"".concat(e.value,"%")},arcLabelMinAngle:65,data:[{id:0,value:t.toFixed(1),label:"Male",color:"#3F51B5"},{id:1,value:r.toFixed(1),label:"Female",color:"#FF4081"}]}],width:230,height:200}):(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,Z.jsx)("p",{children:"No data to display"})})})})]})})},y=(0,f.ZP)(_.Z)((function(e){e.theme;return{marginBottom:"10px",marginRight:"10px",textTransform:"initial",backgroundColor:"rgba(244, 103, 0, 1)",color:"#fff","&:hover":{backgroundColor:"rgba(244, 103, 0, 0.5)",transition:"background-color 0.3s ease-in-out"}}})),F=function(e){var i=e.details,s=e.selectedProject,n=(0,a.useState)(!1),t=(0,r.Z)(n,2),o=t[0],l=t[1],d=(0,a.useState)(null),c=(0,r.Z)(d,2),u=c[0],m=c[1],_=(0,g.a)(v.wA,{variables:{tsId:i.ts_id}}),f=_.data,b=_.loading;return(0,a.useEffect)((function(){!b&&f.trainingSessionImage&&200===f.trainingSessionImage.status&&m(f.trainingSessionImage.trainingSessionImage)}),[f,b]),(0,Z.jsx)("div",{children:(0,Z.jsxs)(x.Z,{elevation:2,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{className:"details__title",children:i.ts_name}),(0,Z.jsx)("div",{style:{padding:"10px",paddingLeft:"20px"}}),(0,Z.jsxs)("div",{className:"ts__details-container",style:{display:"flex",gap:"50px"},children:[(0,Z.jsx)("div",{style:{width:"250px"},children:(0,Z.jsx)(N,{stats:i})}),(0,Z.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,Z.jsxs)("div",{className:"ts__details-container1",children:[(0,Z.jsx)(p.Z,{heading:"Module Name",paragraph:i.ts_module}),(0,Z.jsx)("div",{style:{paddingBottom:"20px"}}),(0,Z.jsx)(p.Z,{heading:"Male Attendance",paragraph:i.total_males||"N/A"})]}),(0,Z.jsxs)("div",{className:"ts__details-container1",children:[(0,Z.jsx)(p.Z,{heading:"Training Group",paragraph:i.ts_group})," ",(0,Z.jsx)("div",{style:{paddingBottom:"20px"}}),(0,Z.jsx)(p.Z,{heading:"Female Attendance",paragraph:i.total_females||"N/A"})]})," ",(0,Z.jsxs)("div",{className:"ts__details-container1",children:[(0,Z.jsx)(p.Z,{heading:"Business Advisor",paragraph:"Peace Ishimwe"})," ",(0,Z.jsx)("div",{style:{paddingBottom:"20px"}}),(0,Z.jsx)(p.Z,{heading:"TNS ID",paragraph:i.tns_id||"N/A"})]}),(0,Z.jsxs)("div",{className:"ts__details-container1",children:[(0,Z.jsx)(p.Z,{heading:"Farmer Trainer",paragraph:i.farmer_trainer||"N/A"}),(0,Z.jsx)("div",{style:{paddingBottom:"20px"}}),(0,Z.jsx)(p.Z,{heading:"Is Session Verified?",paragraph:i.is_verified?"Yes":"No"})]}),(0,Z.jsxs)("div",{className:"ts__details-container1",children:[(0,Z.jsx)(p.Z,{heading:"Session Image Status",paragraph:i.session_image_status}),(0,Z.jsx)("div",{style:{paddingBottom:"20px"}}),(0,Z.jsx)(p.Z,{heading:"Session Date",paragraph:i.session_date})]})]})]})]}),(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,Z.jsx)(y,{onClick:function(){l(!0)},id:"demo-customized-button","aria-controls":o?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0,disabled:!i.has_image,style:{backgroundColor:"".concat(u?"rgba(244, 103, 0, 1)":"rgba(244, 103, 0, 0.5)"),color:"#fff",cursor:"".concat(i.has_image?"pointer":"not-allowed")},children:b?(0,Z.jsx)(j.Z,{color:"rgba(244, 103, 0, 1)",loading:b,size:10}):"View Session Image"}),o&&(0,Z.jsx)(h.Z,{open:o,handleClose:function(){l(!1)},id:i.ts_id,isVerified:i.is_verified,imageStatus:i.session_image_status,sessionImageUrl:u,selectedProject:s})]})]})})},S=s(64264),I=["children","value","index"];function A(e){var i=e.children,s=e.value,a=e.index,n=(0,l.Z)(e,I);return(0,Z.jsx)("div",(0,o.Z)((0,o.Z)({role:"tabpanel",hidden:s!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},n),{},{children:s===a&&(0,Z.jsx)(d.Z,{sx:{p:3},children:(0,Z.jsx)(c.Z,{children:i})})}))}var T=function(e){var i=e.details,s=(e.farmVisits,e.selectedProject),n=(0,a.useState)(0),t=(0,r.Z)(n,2),l=t[0],c=t[1];return(0,Z.jsx)("div",{children:(0,Z.jsxs)(d.Z,{sx:{width:"100%",marginTop:"20px"},children:[(0,Z.jsx)(d.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,Z.jsx)(u.Z,{value:l,onChange:function(e,i){c(i)},"aria-label":"session tabs",children:(0,Z.jsx)(m.Z,(0,o.Z)({label:"Details"},(0,S.Pf)(0)))})}),(0,Z.jsx)(A,{value:l,index:0,children:(0,Z.jsx)(F,{details:i,selectedProject:s})})]})})},w={marginTop:"15px",fontWeight:"400",color:"rgba(125, 127, 136, 1)",fontSize:"12px",maxWidth:"80%"},C=function(e){var i=e.trainingSessions,s=e.selectedProject,a=(0,n.UO)().id,r=i&&i.find((function(e){return e.ts_id===a}));return(0,Z.jsx)("div",{children:r&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(t.Z,{name:r.ts_name,firstItem:"Training session",linkTo:"trainsession"}),(0,Z.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Z.jsx)("h1",{children:r.ts_name}),(0,Z.jsx)("p",{style:w,children:"In the training session details you can access detailed information for a specific training session, training session image and other information"})]}),(0,Z.jsx)(T,{details:r,selectedProject:s})]})})}},46821:function(){}}]);
//# sourceMappingURL=237.6a5d1341.chunk.js.map
{"version":3,"file":"static/js/780.5c67128a.chunk.js","mappings":"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","sources":["features/SustainabilityReport/SustainabilityReports.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Card, CardContent, MenuItem, Select, InputLabel, FormControl, Typography } from \"@mui/material\";\r\nimport Button from \"@mui/material/Button\";\r\nimport DownloadIcon from \"@mui/icons-material/Download\";\r\nimport DescriptionIcon from \"@mui/icons-material/Description\";\r\nimport Papa from \"papaparse\";\r\nimport { saveAs } from \"file-saver\";\r\n\r\nconst surveyReportTypes = {\r\n  CPQI: [\"CPQI Summary per Wetmill\", \"Compliance Score Breakdown\", \"Non-compliance Rates\"],\r\n  Employees: [\"Employee Count\", \"Gender Breakdown\", \"Training Status\"],\r\n  Financials: [\"Compliance Overview\", \"Loan/Grant Access\", \"Revenue vs Expense\"],\r\n  Infrastructure: [\"Missing Items\", \"Score Summary\"],\r\n  KPIs: [\"Trend by Wetmill\", \"Benchmark Comparison\", \"Score Summary\"],\r\n  \"Manager Needs Assessment\": [\"Top Needs\", \"Skill Gap Summary\", \"Training Needs\"],\r\n  \"Training Attendance Recording\": [\"Attendance Summary\", \"Trainer Overview\"],\r\n  \"Waste Water Management\": [\"Treatment Facility Status\", \"Regulation Compliance\", \"Risk Index\"],\r\n};\r\n\r\nconst SustainabilityReports = () => {\r\n  const [selectedSurvey, setSelectedSurvey] = useState(\"\");\r\n  const [selectedReportType, setSelectedReportType] = useState(\"\");\r\n\r\n  const exportToCSV = () => {\r\n    const sampleData = [\r\n      { name: \"Wetmill A\", score: 89, compliant: true },\r\n      { name: \"Wetmill B\", score: 72, compliant: false },\r\n    ];\r\n\r\n    const csv = Papa.unparse(sampleData);\r\n    const blob = new Blob([csv], { type: \"text/csv;charset=utf-8;\" });\r\n    saveAs(blob, `${selectedSurvey}_${selectedReportType}.csv`);\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"2rem\", display: \"flex\", justifyContent: \"center\" }}>\r\n      <Card sx={{ width: \"100%\", maxWidth: 700, padding: 4, boxShadow: 4, borderRadius: 4 }}>\r\n        <CardContent>\r\n          <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"1.5rem\" }}>\r\n            <DescriptionIcon sx={{ fontSize: 30, marginRight: \"0.75rem\", color: \"#087c8f\" }} />\r\n            <Typography variant=\"h6\" fontWeight={600}>Generate Sustainability Report</Typography>\r\n          </div>\r\n\r\n          <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"1.5rem\", marginBottom: \"2rem\" }}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>Select Survey</InputLabel>\r\n              <Select\r\n                value={selectedSurvey}\r\n                label=\"Select Survey\"\r\n                onChange={(e) => {\r\n                  setSelectedSurvey(e.target.value);\r\n                  setSelectedReportType(\"\");\r\n                }}\r\n              >\r\n                {Object.keys(surveyReportTypes).map((survey) => (\r\n                  <MenuItem key={survey} value={survey}>\r\n                    {survey}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <FormControl fullWidth disabled={!selectedSurvey}>\r\n              <InputLabel>Select Report Type</InputLabel>\r\n              <Select\r\n                value={selectedReportType}\r\n                label=\"Select Report Type\"\r\n                onChange={(e) => setSelectedReportType(e.target.value)}\r\n              >\r\n                {selectedSurvey &&\r\n                  surveyReportTypes[selectedSurvey].map((type) => (\r\n                    <MenuItem key={type} value={type}>\r\n                      {type}\r\n                    </MenuItem>\r\n                  ))}\r\n              </Select>\r\n            </FormControl>\r\n          </div>\r\n\r\n          <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              disabled={!selectedSurvey || !selectedReportType}\r\n              onClick={exportToCSV}\r\n              startIcon={<DownloadIcon />}\r\n              sx={{\r\n                backgroundColor: \"#087c8f\",\r\n                \"&:hover\": { backgroundColor: \"#005f6b\" },\r\n                borderRadius: 2,\r\n                paddingX: 3\r\n              }}\r\n            >\r\n              Export CSV\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SustainabilityReports;\r\n"],"names":["surveyReportTypes","CPQI","Employees","Financials","Infrastructure","KPIs","SustainabilityReports","selectedSurvey","setSelectedSurvey","useState","selectedReportType","setSelectedReportType","_jsx","style","padding","display","justifyContent","children","Card","sx","width","maxWidth","boxShadow","borderRadius","_jsxs","CardContent","alignItems","marginBottom","DescriptionIcon","fontSize","marginRight","color","Typography","variant","fontWeight","gridTemplateColumns","gap","FormControl","fullWidth","InputLabel","Select","value","label","onChange","e","target","Object","keys","map","survey","MenuItem","disabled","type","Button","onClick","exportToCSV","csv","Papa","name","score","compliant","blob","Blob","saveAs","startIcon","DownloadIcon","backgroundColor","paddingX"],"sourceRoot":""}
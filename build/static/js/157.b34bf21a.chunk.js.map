{"version":3,"file":"static/js/157.b34bf21a.chunk.js","mappings":"mOAAA,MAyBA,EAzBiBA,KAEf,MAAMC,EAAM,IAAIC,KAGVC,EAAeC,KAAKC,iBAAiBC,kBAAkBC,SAiB7D,MAAQ,GAdcN,EAAIO,mBAAmB,QAAS,CACpDC,KAAM,UACNC,MAAO,UACPC,IAAK,kBAGeV,EAAIW,mBAAmB,QAAS,CACpDC,KAAM,UACNC,OAAQ,UACRC,OAAQ,UACRR,SAAUJ,KAIiC,E,qCCL/C,MAAMa,EAAe,CACnBC,KAAM,CACJC,MAAO,CACLC,UAAW,OACXC,OAAQ,YAGZC,UAAW,CACTH,MAAO,CACLI,YAAa,MACbC,aAAc,MACdC,gBAAiB,UACjBC,MAAO,UAGXC,MAAO,CACLR,MAAO,CACLI,YAAa,MACbC,aAAc,MACdI,WAAY,MACZC,cAAe,SAMfC,EAAgBC,IAAA,IAAC,gBACrBC,EAAe,kBACfC,EAAiB,aACjBC,GACDH,EAAA,OACCI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,CACX,uBAAjBH,IACCC,EAAAA,EAAAA,MAACG,EAAAA,EAAM,CACLC,QAAQ,WACRC,GAAI,CAAEd,MAAO,UAAWe,YAAa,WACrCC,QAASV,EAAgBK,SAAA,EAEzBM,EAAAA,EAAAA,KAACC,EAAAA,IAAY,CAACzB,MAAO,CAAE0B,YAAa,SAAW,WAGnDV,EAAAA,EAAAA,MAACG,EAAAA,EAAM,CACLC,QAAQ,WACRC,GAAI,CAAEd,MAAO,UAAWe,YAAa,WACrCC,QAAST,EAAkBI,SAAA,EAE3BM,EAAAA,EAAAA,KAACC,EAAAA,IAAY,CAACzB,MAAO,CAAE0B,YAAa,SAClB,uBAAjBX,EAAwC,QAAU,uBAEjD,EAyWR,EAtWcY,IAWP,IAXQ,QACbC,EAAO,KACPC,EAAI,OACJC,EAAM,aAINf,EAAY,eACZgB,EAAc,gBAEdC,GACDL,EACC,MAAMM,EAAWlB,GAAgBmB,OAAOC,SAASC,SAASC,MAAM,KAAK,IAC9DC,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,CAAEC,MAAO,QAC/CC,EAAMC,IAAWH,EAAAA,EAAAA,WAAS,IAC1BI,EAASC,IAAcL,EAAAA,EAAAA,WAAS,IAChCM,EAAeC,IAAoBP,EAAAA,EAAAA,UAAS,OAC5CQ,EAAYC,IAAiBT,EAAAA,EAAAA,UAAS,KACtCU,EAAcC,IAAmBX,EAAAA,EAAAA,UAAS,KAC1CY,EAAWC,IAAgBb,EAAAA,EAAAA,WAAS,IACpCc,EAAMC,IAAWf,EAAAA,EAAAA,UAAS,MAC3BgB,GAAWC,EAAAA,EAAAA,MAEXC,GAAYC,EAAAA,EAAAA,GAASC,EAAAA,GAA4B,CACrDC,UAAW,CAAEC,KAAMxB,GAAcA,EAAWG,MAAQH,EAAWG,MAAQ,IACvEsB,MAAOzB,IAIH0B,EACS,eAAb/B,EACI,wBACa,iBAAbA,EACA,0BACa,iBAAbA,EACA,oBACa,cAAbA,EACA,oBACA,qBAENgC,EAAAA,EAAAA,YAAU,KAAO,IAADC,EAAAC,EAEXT,EAAUd,SACsC,OAAnC,QAAdsB,EAAAR,EAAU7B,YAAI,IAAAqC,GAAsB,QAAtBC,EAAdD,EAAgBE,4BAAoB,IAAAD,OAAtB,EAAdA,EAAsCE,UAEtCxB,GAAW,GACXE,EACEW,EAAU7B,KAAKuC,qBAAqBA,sBAExC,GACC,CAACV,IA4OJ,OACE1C,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAY,yBAAwBa,EAAuB,GAAd,aAAmBZ,SAAA,CAElEY,IAAUN,EAAAA,EAAAA,KAACL,EAAAA,EAAM,CAACF,UAAU,gBAAeC,SAAC,YAG7CF,EAAAA,EAAAA,MAAA,OACEhB,MAAO,CACLsE,QAAS,OACTC,WAAY,SACZC,eAAgB,gBAChBC,MAAO,QACPvD,SAAA,EAEFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BM,EAAAA,EAAAA,KAAA,SACEkD,KAAK,OACLC,YAAY,YACZC,MAAO5B,EACP6B,SA9NUC,IACpB,MAAMF,EAAQE,EAAEC,OAAOH,MAAMI,cACvBC,EAAgBpD,EAAKC,QAAQoD,GACjCtD,EAAQuD,MAAMC,IACZ,MAAMC,EAAQH,EAAKE,EAAOE,IAC1B,OAAY,OAALD,QAAK,IAALA,OAAK,EAALA,EAAOE,WAAWP,cAAcQ,SAASZ,EAAM,MAG1DzB,EAAgB8B,GAChBhC,EAAc6B,EAAEC,OAAOH,MAAM,KAuNrBpD,EAAAA,EAAAA,KAAA,QAAMP,UAAU,cAAaC,UAC3BM,EAAAA,EAAAA,KAACiE,EAAAA,IAAW,UAKhBjE,EAAAA,EAAAA,KAACb,EAAa,CACZE,gBA3NcA,KACtB,IAAKgB,GAAwB,IAAhBA,EAAK6D,OAEhB,YADAC,MAAM,iCAIR,IAAIC,EAAiB,IAAIhE,GAGzB,GAAiB,cAAbK,EAA0B,CAC5B,MAAM4D,EAAa,CACjB,CAAEP,GAAI,oBACN,CAAEA,GAAI,kBACN,CAAEA,GAAI,sBAERM,EAAiB,IAAIA,KAAmBC,EAC1C,CAEA,MAAMC,EAAe,CACnB,MACA,UACA,aACA,cACA,YACA,SACA,MACA,sBACA,yBACA,eACoB,uBAApB9D,GACoB,uBAApBA,EACI,6BACoB,uBAApBA,EACA,iBACA,yBACJ,WACA,eACA,SACA,YACA,kBACA,gBACA,SACA,iBACA,SACA,iBACoB,uBAApBA,EACI,mBACA,mBACJ,sBAGF,GAAqB,iBAAjBjB,EAAiC,CACnC,MAAMgF,EAAuB,IAAIC,IACLjE,EAAeD,QAAQmE,GACjDpE,EAAKsD,MACFe,GAAgBA,EAAYC,OAASF,EAAWG,mBAIjCC,SAASJ,IAC3B,MAAM,kBACJK,EAAiB,eACjBF,EAAc,cACdG,EAAa,YACbC,EAAW,UACXC,GACER,EAEES,EAAO,GAAEH,KAAiBC,KAAeC,IAE1CV,EAAqBY,IAAID,IAC5BX,EAAqBa,IAAIF,EAAK,CAAC,GAGPX,EAAqBc,IAAIH,GACjCN,GACM,YAAtBE,EAAkC,IAAM,GAAG,IAG/C,IAAK,MAAOQ,KAAaf,EACvBD,EAAaiB,KAAKD,GAGpB,MAAME,EACJhE,EAAW0C,OAAS,EAChBxC,EAAa+D,KAAKf,IAChB,MAAMgB,EAAU,IAAKhB,GACrB,IAAK,MACHY,EACAK,KACGpB,EACHmB,EAAQJ,GAAYK,EAAkBjB,EAAYC,OAAS,GAE7D,OAAOe,CAAO,IAEhBrF,EAAKoF,KAAKf,IACR,MAAMgB,EAAU,IAAKhB,GACrB,IAAK,MACHY,EACAK,KACGpB,EACHmB,EAAQJ,GAAYK,EAAkBjB,EAAYC,OAAS,GAE7D,OAAOe,CAAO,IAGtBrF,EAAOmF,CACT,CAGA,MAAMI,EAAgBvF,EAAKoF,KACzBI,IAAA,IAAC,MAAEC,EAAK,MAAE7E,EAAK,KAAE0D,EAAI,cAAEoB,EAAa,MAAEC,EAAK,WAAEC,KAAeC,GAAML,EAAA,OAChEK,CAAI,IAIFC,GAASC,EAAAA,EAAAA,IAAS,CAMtB5D,SAAUA,EACV6D,cAAgC,iBAAjB9G,EAAkC+E,EAAeF,EAAeqB,KAAK7B,GAAWA,EAAOE,OAIlGwC,GAAaC,EAAAA,EAAAA,IAAYJ,EAAZI,CAAoBX,GAElCU,IAMLE,EAAAA,EAAAA,IAASL,EAATK,CAAiBF,GACjBG,QAAQC,IAAI,uBAEZD,QAAQC,IAAI,UAAWP,GACvBM,QAAQC,IAAI,QAASrG,GACrBoG,QAAQC,IAAI,eAAgBJ,IAV1BG,QAAQE,MAAM,qDAUuB,EAgF/BrH,kBA7EgBA,KACxB,MAGMsH,EAAe,CACnBC,OAAQzG,EAAQqF,KAAK7B,GAAWA,EAAOE,KACvCgD,KAAMzG,EAAKoF,KACTsB,IAAA,IAAC,MAAEjB,EAAK,MAAE7E,EAAK,KAAE0D,EAAI,cAAEoB,EAAa,MAAEC,EAAK,WAAEC,KAAeC,GAAMa,EAAA,OAChEC,OAAOC,OAAOf,EAAK,KAInBgB,EAAiB7G,EAAK8G,QAC1B,CAACC,EAAGC,KAAgD,IAA9C,eAAEC,EAAc,qBAAEC,GAAsBF,EAC5C,MAAMnC,EAAO,GAAEoC,KAAkBC,IAKjC,OAJKH,EAAIlC,KACPkC,EAAIlC,GAAO,CAAEoC,iBAAgBC,uBAAsBC,MAAO,IAE5DJ,EAAIlC,GAAKsC,OAAS,EACXJ,CAAG,GAEZ,CAAC,GAKGK,EAAqB,CACzBZ,OAAQ,CAAC,iBAAkB,uBAAwB,SACnDC,KAJkBE,OAAOC,OAAOC,GAIdzB,KAAKpF,GAAS2G,OAAOC,OAAO5G,MAG1CqH,EAAWC,EAAAA,GAAMC,WACjBC,EAAoBF,EAAAA,GAAMG,cAC9B,CAAClB,EAAaC,UAAWD,EAAaE,MACtC,CAAEiB,YAAY,IAEVC,EAAmBL,EAAAA,GAAMG,cAC7B,CAACL,EAAmBZ,UAAWY,EAAmBX,MAClD,CAAEiB,YAAY,IAGhBJ,EAAAA,GAAMM,kBAAkBP,EAAUM,EAvCT,sBAwCzBL,EAAAA,GAAMM,kBAAkBP,EAAUG,EAzChB,kBA2ClBK,EAAAA,EAAAA,IAAUR,EAAW,GAAElF,KAAYlF,WAAkB,EAkC7CiC,aAAcA,WAKpBS,EAAAA,EAAAA,KAACmI,EAAAA,GAAS,CACR/H,QAASA,EACTC,KAAMmB,EAAW0C,OAAS,EAAIxC,EAAerB,EAC7C+H,aAzQkBC,IACtBtH,EAAcsH,GAEd,MAQMvE,EARY,CAChBwE,aAAcD,EAAIpH,MAClBsH,WAAYF,EAAIvC,MAChB0C,aAAcH,EAAI1D,KAClB8D,UAAWJ,EAAIK,OACfC,mBAAoBN,EAAIpH,OAGL1B,IAAiB8I,EAAItC,cAErB,cAAjBxG,GAAiD,uBAAjBA,EAClCyC,EAAU,OAAMzC,KAAgBuE,KACN,cAAjBvE,GACTwC,EAAQsG,EAAIrC,OAvBdnE,GAAa,IAyBe,uBAAjBtC,IACT4B,GAAQ,GACRE,GAAW,GACb,EAqPIuH,YAAU,EACVC,kBAAgB,EAChBvK,aAAcA,EACdmB,UAAU,oBAYXyB,IACClB,EAAAA,EAAAA,KAAC8I,EAAAA,EAAc,CACb5H,KAAMA,EACN6H,YAAaA,IAAM5H,GAAQ,GAC3B2C,GAAIhD,EAAWG,MACfZ,KAAMS,EACNkI,WAAYlI,EAAWmI,YACvBC,YAAapI,EAAWyG,qBACxB4B,gBAAiB7H,EACjBd,gBAAiBA,EACjBY,QAASA,MAGT,C,mQCjZV,MAAMgI,EAAkB,CACtB,UACA,aACA,YACA,SACA,MACA,sBACA,eACA,SACA,YACA,kBACA,gBACA,SACA,iBACA,UAwPF,EArPgChK,IAKzB,IAL0B,KAC/B8B,EAAI,QACJC,EAAO,iBACPkI,EAAgB,YAChBC,GACDlK,EACC,MAAOmK,EAAUC,IAAexI,EAAAA,EAAAA,UAAS,OAClCyI,EAAMC,IAAW1I,EAAAA,EAAAA,UAAS,OAC1B2I,EAAeC,IAAoB5I,EAAAA,EAAAA,UAAS,KAC5C6I,EAAkBC,IAAuB9I,EAAAA,EAAAA,UAAS,KAClD+I,EAAcC,IAAmBhJ,EAAAA,EAAAA,UAAS,OAC1CiJ,EAAcC,IAAmBlJ,EAAAA,EAAAA,WAAS,IAE1CmJ,IAAsBC,EAAAA,EAAAA,GAAYC,EAAAA,IACnCC,GAAyBnI,EAAAA,EAAAA,GAASoI,EAAAA,GAA8B,CACpElI,UAAW,CAAEmI,UAAWlB,KASpBmB,EAAahB,IACjB,MAAMiB,EAAS,IAAIC,WACnBD,EAAOE,OAAUtH,IACf,MAAMuH,EAAavH,EAAEC,OAAOuH,OAAOjK,MAAM,WACnCkK,EAAeF,EAAWpF,KAAK4C,GACnCA,EAAIxH,MAAM,KAAK4E,KAAKuF,GAASA,EAAKC,QAAQ,WAAY,UAExDzB,EAAY,CACVhH,SAAUiH,EAAKyB,KACfC,KAAM1B,EAAK0B,KACXjI,KAAMuG,EAAKvG,KACX7C,KAAM0K,EAAa7G,OAAS,EAAI6G,EAAeF,IAEjDjB,EAAiBmB,EAAa,GAAG,EAEnCL,EAAOU,WAAW3B,EAAK,GAGzBhH,EAAAA,EAAAA,YAAU,KACH8G,IACDA,EAASlJ,MAAQkJ,EAASlJ,KAAK6D,OAAS,GAC5CmH,EAAwB9B,GAAS,GAChC,CAACA,EAAUI,IAEd,MAAM0B,EAA2B9B,IAC/B,MAAM+B,EAAgB/B,EAASlJ,KAC5BoF,KAAK4C,GAAQA,EAAIsB,EAAc4B,QAAQ,cACvCjL,QAAQkL,GAAYA,IACvB1B,EAAoB,IAAI,IAAI2B,IAAIH,IAAgB,EAG5CvC,EAAcA,CAACzF,EAAGoI,KACP,kBAAXA,GAAyC,kBAAXA,GAClCC,GAAY,EAGRA,EAAaA,KACjBnC,EAAY,MACZrI,GAAQ,EAAM,EAeVyK,EAA4BA,CAACrC,EAAUI,EAAe6B,KAC1D,MAAMK,EAAelC,EAAc4B,QAAQ,WACrCO,EAAcvC,EAASlJ,KAAKC,QAC/B+H,GAAQA,EAAIwD,KAAkBL,IAE3BO,EAAqB,GAAEpC,EAAcqC,KAAK,SAASF,EAAYE,KACnE,QAEF,OAAO,IAAIC,KAAK,CAACF,GAAoBxC,EAAS/G,SAAU,CACtDU,KAAM,YACN,EAGEgJ,EAAaC,UACjB,IACE,MAAMC,QAAYjC,EAAmB,CAAE9H,UAAW,CAAEgK,UAAW5C,WACzDa,EAAuBgC,UAC7BtC,EAAgBoC,EAAI/L,KAAK8J,oBACkB,MAAvCiC,EAAI/L,KAAK8J,mBAAmBtH,QAC9B0J,YAAW,KACT7L,OAAOC,SAAS6L,QAAQ,GACvB,IAEP,CAAE,MAAO7F,GACPF,QAAQE,MAAMA,GACdqD,EAAgB,CACdnH,OAAQ,IACR4J,QAAS,2CAEb,CAAC,QACCvC,GAAgB,EAClB,GAGIwC,EAAuBA,KAC3B,MAAM,KAAEjD,EAAI,QAAEgD,GAAY1C,EAC1B,GAAIN,EAAM,CACR,MAAMkD,EAAiBC,KAAKnD,GACtBoD,EAAc,IAAIC,MAAMH,EAAezI,QAAQ6I,OAAOtH,KAAI,CAACuH,EAAGC,IAAMN,EAAeO,WAAWD,KAC9FE,EAAY,IAAIC,WAAWP,GAC3BQ,EAAO,IAAIC,KAAK,CAACH,GAAY,CAAEjK,KAAM,uEAC3CqK,EAAAA,EAAAA,QAAOF,EAAM,kBACf,MACE5G,QAAQE,MAAM,sCAChB,EAyBI6G,EAAkBrC,GACtBA,EAAO,IAAW,IAAGA,EAAO,KAASsC,QAAQ,QAAW,IAAGtC,EAAO,KAAMsC,QAAQ,QAG5EC,EAA0BC,GAC9BA,EAAO5J,WAAWkH,QAAQ,wBAAyB,KA4DrD,OACEzL,EAAAA,EAAAA,MAACoO,EAAAA,EAAM,CAAC1M,KAAMA,EAAM2M,QAAS9E,EAAYrJ,SAAA,EACvCM,EAAAA,EAAAA,KAAC8N,EAAAA,EAAa,CAAApO,SACV6J,EAEEQ,GAjBRvK,EAAAA,EAAAA,MAACuO,EAAAA,EAAG,CAAClO,GAAI,CAAEiD,QAAS,OAAQkL,cAAe,SAAUjL,WAAY,UAAYtD,UAAU,YAAWC,SAAA,EAChGM,EAAAA,EAAAA,KAACiO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,UACzBM,EAAAA,EAAAA,KAACkO,EAAAA,EAAK,CAACC,SAAkC,MAAxBpE,EAAalH,OAAiB,UAAY,QAAQnD,SAAEqK,EAAa0C,YAE3D,MAAxB1C,EAAalH,QAAkBkH,EAAaN,OAC3CzJ,EAAAA,EAAAA,KAACL,EAAAA,EAAM,CAACI,QAAS2M,EAAsB9M,QAAQ,YAAYb,MAAM,UAASW,SAAC,2BAcvEiK,EAAcrJ,QAAQsD,GAAWwF,EAAgBpF,SAASJ,KAASM,SAAWkF,EAAgBlF,QA/DtG1E,EAAAA,EAAAA,MAACuO,EAAAA,EAAG,CAAClO,GAAI,CAAEiD,QAAS,OAAQkL,cAAe,SAAUjL,WAAY,UAAWrD,SAAA,EAC1EF,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAACoO,EAAAA,IAAU,CAAC5P,MAAO,CAAE6P,SAAU,OAAQtP,MAAO,aAAe,+CAE/DiB,EAAAA,EAAAA,KAACiO,EAAAA,EAAU,CAACrO,QAAQ,QAAQC,GAAI,CAAEiD,QAAS,OAAQC,WAAY,SAAUuL,SAAU,QAAS5O,SACzF0J,EAAgB9I,QAAQsD,IAAY+F,EAAc3F,SAASJ,KAAS6B,KAAI,CAAC7B,EAAQ2K,KAChFvO,EAAAA,EAAAA,KAACwO,EAAAA,EAAI,CAAaC,MAAO7K,EAAQ/D,GAAI,CAAE6O,OAAQ,cAAgB3P,MAAM,UAAUa,QAAQ,YAA5E2O,QAGfvO,EAAAA,EAAAA,KAAA,OAAKP,UAAU,iBAAgBC,UAC7BM,EAAAA,EAAAA,KAAC2O,EAAAA,IAAoB,CAAC5O,QAASA,IAAMyJ,EAAY,MAAO/J,UAAU,aAAamP,MAAM,iCAuDjFrF,EAASlJ,KAAK6D,OAAS,EAAI,GAjDnC1E,EAAAA,EAAAA,MAACuO,EAAAA,EAAG,CAAClO,GAAI,CAAEiD,QAAS,OAAQkL,cAAe,SAAUjL,WAAY,UAAWrD,SAAA,EAC1EF,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAQC,GAAI,CAAEgP,UAAW,UAAWnP,SAAA,EACtDM,EAAAA,EAAAA,KAACoO,EAAAA,IAAU,CAAC5P,MAAO,CAAE6P,SAAU,SAAUtP,MAAO,aAAe,yEAEjEiB,EAAAA,EAAAA,KAAA,OAAKP,UAAU,iBAAgBC,UAC7BM,EAAAA,EAAAA,KAAC2O,EAAAA,IAAoB,CAAC5O,QAASA,IAAMyJ,EAAY,MAAO/J,UAAU,aAAamP,MAAM,iCA8ChF/E,EAAiB7F,SAASqF,IAG7B7J,EAAAA,EAAAA,MAACuO,EAAAA,EAAG,CAAClO,GAAI,CAAEiD,QAAS,OAAQkL,cAAe,SAAUjL,WAAY,UAAYtD,UAAU,YAAWC,SAAA,EApGxGF,EAAAA,EAAAA,MAACuO,EAAAA,EAAG,CAAClO,GAAI,CAAEiD,QAAS,OAAQkL,cAAe,SAAUjL,WAAY,UAAWrD,SAAA,EAC1EF,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,UAAc,IAAE6J,EAAS/G,aAEnChD,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,UAAc,IAAE8N,EAAejE,EAAS4B,UAElD3L,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,UAAc,IAAE6J,EAASrG,SAEnC1D,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,mBAAuB,IAAEgO,EAAuBnE,EAASlJ,KAAK6D,OAAS,MAEhF2F,EAAiB3F,OAAS,IACzB1E,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAQC,GAAI,CAAEiP,aAAc,QAASpP,SAAA,CAAC,qBACvCF,EAAAA,EAAAA,MAAA,UAAAE,SAAA,CAAS2J,EAAiB,KAAGE,EAASlJ,KAAKC,QAAQ+H,GAAQA,EAAIsB,EAAc4B,QAAQ,cAAgBlC,IAAkBnF,OAAO,eAAkB,4CAuF/JlE,EAAAA,EAAAA,KAAA,OAAKP,UAAU,iBAAgBC,SAC5BuK,GAnCXjK,EAAAA,EAAAA,KAACiO,EAAAA,EAAU,CAACrO,QAAQ,QAAQC,GAAI,CAAEiP,aAAc,OAAQ7L,MAAO,OAAQ8L,UAAW,UAAWrP,UAC3FM,EAAAA,EAAAA,KAAA,MAAIxB,MAAO,CAAEwQ,WAAY,OAAQjQ,MAAO,WAAYW,SAAC,yCAmC3CF,EAAAA,EAAAA,MAAAyP,EAAAA,SAAA,CAAAvP,SAAA,EACEM,EAAAA,EAAAA,KAAC2O,EAAAA,IAAoB,CAAC5O,QAASA,IAAMyJ,EAAY,MAAO/J,UAAU,aAAamP,MAAM,6BACrF5O,EAAAA,EAAAA,KAACkP,EAAAA,IAAgB,CAACN,MAAM,6BAA6BnP,UAAU,eAAeM,QAtKzEoM,UACnB,GAAIlC,EAAc,OAClBC,GAAgB,GAChBF,EAAgB,MAChB,MAAMmF,EAAUvD,EACdrC,EACAI,EACAN,SAEI6C,EAAWiD,EAAQ,aA4GzB3P,EAAAA,EAAAA,MAACuO,EAAAA,EAAG,CAAClO,GAAI,CAAEiD,QAAS,OAAQkL,cAAe,SAAUjL,WAAY,UAAWrD,SAAA,EAC1EF,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAQC,GAAI,CAAEgP,UAAW,UAAWnP,SAAA,EACtDM,EAAAA,EAAAA,KAACoO,EAAAA,IAAU,CAAC5P,MAAO,CAAE6P,SAAU,OAAQtP,MAAO,aAAe,0IAE/DiB,EAAAA,EAAAA,KAAA,OAAKP,UAAU,iBAAgBC,UAC7BM,EAAAA,EAAAA,KAAC2O,EAAAA,IAAoB,CAAC5O,QAASA,IAAMyJ,EAAY,MAAO/J,UAAU,aAAamP,MAAM,kCA4BnF5O,EAAAA,EAAAA,KAACoP,EAAAA,EAAY,CAACX,MAAO,2DAA4DY,aArMnE5F,IACpBC,EAAQD,GACRO,EAAgB,MAChBS,EAAUhB,EAAK,EAkMoGyB,KAAK,OAAOoE,MAAO,CAAC,YAuBrItP,EAAAA,EAAAA,KAACuP,EAAAA,EAAa,CAAA7P,UACZM,EAAAA,EAAAA,KAACL,EAAAA,EAAM,CAACI,QAASgJ,EAAayG,SAAUvF,EAAavK,SAAC,eAEjD,EClQb,MAAM+P,E,SAAsBC,EAAI;;;;;;;;;;;;;;;uCCPhC,MA6XA,EA7XqBC,KACnB,MAAM,cAAEC,EAAa,eAAEC,EAAc,SAAEC,IAAaC,EAAAA,EAAAA,OAC7C7O,EAAMC,IAAWH,EAAAA,EAAAA,WAAS,IAC1BgP,EAAeC,IAAoBjP,EAAAA,EAAAA,aACnCkP,EAAWC,IAAgBnP,EAAAA,EAAAA,WAAS,IAGzCX,KAAM+P,EACNhP,QAASiP,EACT1J,MAAO2J,EACPhE,QAASiE,IACPpO,EAAAA,EAAAA,GAASoI,EAAAA,GAA8B,CACzClI,UAAW,CAAEmI,UAAWoF,GACxBrN,MAAOqN,KAGFrP,EAAgBiQ,IAAqBxP,EAAAA,EAAAA,UAAS,KAC9CyP,EAAmBC,IAAwB1P,EAAAA,EAAAA,WAAS,IACpD2P,EAAiBC,IAAsB5P,EAAAA,EAAAA,UAAS,OAEjD,UAAE6P,IAAc1O,EAAAA,EAAAA,GAASsN,EAAqB,CAClDpN,UAAW,CACTmI,UAAWoF,EACXkB,MAAO,IACPC,OAAQ,GAEVxO,MAAOqN,EACPoB,6BAA6B,KAG/BvO,EAAAA,EAAAA,YAAU,KAC4B0J,WAClC,GAAKyD,EAEL,IAAK,IAADqB,EACFP,GAAqB,GACrBE,EAAmB,MAEnB,MAAME,EAAQ,IACd,IAAIC,EAAS,EACTG,EAAY,GAGhB,MAAQ7Q,KAAM8Q,SAAsBN,EAAU,CAC5CxO,UAAW,CAAEmI,UAAWoF,EAAekB,QAAOC,YAG1CK,GAA0B,OAAXD,QAAW,IAAXA,GAA2B,QAAhBF,EAAXE,EAAaE,sBAAc,IAAAJ,OAAhB,EAAXA,EAA6BxM,aAAc,GAGhE,GAFAyM,EAAY,IAAIE,GAEZA,EAAalN,OAAS4M,EAExB,OADAN,EAAkBU,GACXR,GAAqB,GAG9BK,GAAUD,EAGV,MAAMQ,EAAc,GACpB,IAAIC,GAAY,EAEhB,KAAOA,GAAW,CAChB,MAAMC,EAAW,GAEjB,IAAK,IAAIvE,EAAI,EAAGA,EAAIqE,EAAarE,IAAK,CACpC,MAAMwE,EAAgBV,EAAS9D,EAAI6D,EAE7BY,EAAIb,EAAU,CAClBxO,UAAW,CACTmI,UAAWoF,EACXkB,QACAC,OAAQU,KAETE,MAAMvF,IAAS,IAADwF,EAAAC,EAEf,MAAO,CAAEC,OADQ,OAAH1F,QAAG,IAAHA,GAAS,QAANwF,EAAHxF,EAAK/L,YAAI,IAAAuR,GAAgB,QAAhBC,EAATD,EAAWP,sBAAc,IAAAQ,OAAtB,EAAHA,EAA2BpN,aAAc,GACvCgN,gBAAe,IAGjCD,EAASjM,KAAKmM,EAChB,CAEA,MAAMK,QAAgBC,QAAQC,IAAIT,GAElC,IAAK,IAAIpF,KAAO2F,EACV3F,EAAI0F,MAAM5N,OAAS,IACrBgN,EAAY,IAAIA,KAAc9E,EAAI0F,QAGhC1F,EAAI0F,MAAM5N,OAAS4M,IACrBS,GAAY,GAIhBR,GAAUO,EAAcR,CAC1B,CAEAN,EAAkBU,EACpB,CAAE,MAAOgB,GACPzL,QAAQE,MAAM,mCAAoCuL,GAClDtB,EAAmBsB,EACrB,CAAC,QACCxB,GAAqB,EACvB,GAGFyB,EAA6B,GAC5B,CAACvC,EAAeiB,IAWnB,MAAOuB,IAAoBhI,EAAAA,EAAAA,GAAYiI,EAAAA,IAEjCC,EAAcC,KAAKC,MAAM9R,OAAO+R,aAAaC,QAAQ,oBAE3DjQ,EAAAA,EAAAA,YAAU,KACR,GACE2N,GACoD,MAApDA,EAAgBuC,yBAAyB9P,OACzC,CACA,MAAMmN,EACJI,EAAgBuC,yBAAyBnK,aAAalI,QACnDoE,GAAmD,UAAnCA,EAAYkO,qBAEjC3C,EAAiBD,EAAc9L,OACjC,IACC,CAACkM,IAmBJ,GAAIC,GAAuBI,EACzB,OACEjR,EAAAA,EAAAA,MAACqT,EAAAA,GAAI,CACHC,WAAS,EACTC,UAAU,SACV/P,eAAe,SACfD,WAAW,SACXvE,MAAO,CAAEwU,OAAQ,SAAUtT,SAAA,EAE3BM,EAAAA,EAAAA,KAACiT,EAAAA,EAAU,CAAClU,MAAM,UAAUoM,KAAM,MAClCnL,EAAAA,EAAAA,KAAA,MAAIxB,MAAO,CAAEO,MAAO,WAAYW,SAAC,+CAOvC,GAAI4Q,GAAqBK,EACvB,OACE3Q,EAAAA,EAAAA,KAAC6S,EAAAA,GAAI,CACHC,WAAS,EACTC,UAAU,SACV/P,eAAe,SACfD,WAAW,SACXvE,MAAO,CAAEwU,OAAQ,SAAUtT,UAE3BF,EAAAA,EAAAA,MAAA,MAAIhB,MAAO,CAAEO,MAAO,OAAQW,SAAA,CAAC,sBACP,KACF,OAAjB4Q,QAAiB,IAAjBA,OAAiB,EAAjBA,EAAmB7D,WAA0B,OAAfkE,QAAe,IAAfA,OAAe,EAAfA,EAAiBlE,cAMxD,MAAMjE,EAAe4H,EAAgBuC,yBAAyBnK,aAGxDpI,EAAU,CACd,CAAE0D,GAAI,MAAOoH,KAAM,MAAOgI,SAAW7K,GAAQA,EAAI8K,IAAKC,UAAU,GAChE,CACEtP,GAAI,YACJoH,KAAM,YACNgI,SAAW7K,GAAQA,EAAIgL,WAAa,IAAMhL,EAAIiL,UAC9CF,UAAU,GAEZ,CACEtP,GAAI,SACJoH,KAAM,SACNgI,SAAW7K,GAAwB,MAAfA,EAAIkL,OAAiB,OAAS,SAClDH,UAAU,GAEZ,CACEtP,GAAI,WACJoH,KAAM,WACNgI,SAAW7K,GAAQA,EAAI1H,SACvByS,UAAU,GAEZ,CACEtP,GAAI,SACJoH,KAAM,SACNgI,SAAW7K,GAAQA,EAAImL,OACvBJ,UAAU,GAEZ,CACEtP,GAAI,iBACJoH,KAAM,iBACNgI,SAAW7K,GAAQA,EAAIoL,eACvBL,UAAU,GAEZ,CACEtP,GAAI,eACJoH,KAAM,YACNgI,SAAW7K,GAAQA,EAAIqL,UACvBN,UAAU,GAEZ,CACEtP,GAAI,2BACJoH,KAAM,2BACNgI,SAAW7K,IACTrI,EAAAA,EAAAA,KAAA,OAAAN,SACyB,MAAtB2I,EAAIsL,eACH3T,EAAAA,EAAAA,KAACwO,EAAAA,EAAI,CAACC,MAAO,IAAK1P,MAAM,UAAUa,QAAQ,cAE1CI,EAAAA,EAAAA,KAACwO,EAAAA,EAAI,CAACC,MAAO,IAAK1P,MAAM,QAAQa,QAAQ,eAI9CwT,UAAU,GAEZ,CACEtP,GAAI,iBACJoH,KAAM,iBACNgI,SAAW7K,GAAQA,EAAIf,eACvB8L,UAAU,GAEZ,CACEtP,GAAI,mBACJoH,KAAM,mBACNgI,SAAW7K,GAAQA,EAAIuL,iBACvBR,UAAU,IAKR7U,EAAOiK,EAAa/C,KAAI,CAACf,EAAa6J,KAAW,IAADsF,EACpD,MAAMxL,EAAM,CACV8K,IAAK5E,EAAQ,EACbuF,QAAShE,EAASiE,MACfvI,GAAYA,EAAQwI,gBAAkBpE,IACvCqE,aACFtP,KAAMD,EAAYC,KAClB0O,WAAY3O,EAAY2O,WACxBa,YAAaxP,EAAYwP,YAAcxP,EAAYwP,YAAc,GACjEZ,UAAW5O,EAAY4O,UAAY5O,EAAY4O,UAAY,GAC3DC,OAAQ7O,EAAY6O,OACpBY,IAAKzP,EAAYyP,IACjBC,oBAAqB1P,EAAY0P,oBACjCC,aAAc3P,EAAY2P,aAC1BC,aAAc5P,EAAYC,KAC1B+O,UAAWhP,EAAYgP,UACvBa,gBAAiB7P,EAAY8P,aAC7BC,OAAQ/P,EAAY+P,OACpB9T,SAAU+D,EAAY/D,SACtB6S,OAAQ9O,EAAY8O,OACpBC,eACE5D,GAAkBA,EAAe3L,OAAS,IAC8B,QAApE2P,EAAAhE,EAAekE,MAAMW,GAAOA,EAAG5O,QAAUpB,EAAY+O,wBAAe,IAAAI,OAAA,EAApEA,EACIc,UACJ,MACNhB,cAAejP,EAAYkQ,yBAC3B/R,OAAQ6B,EAAY7B,OACpByE,eAAgB5C,EAAY4C,eAE5BsL,mBAAoBlO,EAAYkO,mBAChCiC,uBAAwBnQ,EAAYmQ,wBA0BtC,MAvBsB,uBAAlBjF,EACFvH,EAAIyM,iBAAmBpQ,EAAYkP,iBAEnCvL,EAAIuL,iBAAmBlP,EAAYkP,iBAIjB,uBAAlBhE,GACkB,uBAAlBA,EAEAvH,EAAI0M,2BAA6BrQ,EAAYsQ,uBACzCtQ,EAAYsQ,uBACZ,GACuB,uBAAlBpF,EACTvH,EAAI4M,eAAiBvQ,EAAYsQ,uBAC7BtQ,EAAYsQ,uBACZ,GAEJ3M,EAAI2M,uBAAyBtQ,EAAYsQ,uBACrCtQ,EAAYsQ,uBACZ,GAGC3M,CAAG,IAGZ,OACE7I,EAAAA,EAAAA,MAAA,OAAAE,SAAA,CAEGsQ,EAAgB,IACfxQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,uBACkBM,EAAAA,EAAAA,KAAA,UAAAN,SAASsQ,IAAuB,wLAKrDhQ,EAAAA,EAAAA,KAAA,UACEP,UAAU,qBACVM,QAASA,IAjMMoM,WACvBgE,GAAa,GAEb,UACQiC,EAAiB,CACrB/P,UAAW,CACTmI,UAAWoF,WAGTW,IACNJ,GAAa,EACf,CAAE,MAAO+B,GACPzL,QAAQC,IAAIwL,GACZ/B,GAAa,EACf,GAmLuB+E,GACf1F,SAAUU,EAAUxQ,SAEnBwQ,EAAY,gBAAkB,yBAKrC1Q,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BM,EAAAA,EAAAA,KAAA,MAAIP,UAAU,kBAAiBC,SAAC,4BAA6B,KACrC,iBAAX,OAAX4S,QAAW,IAAXA,OAAW,EAAXA,EAAa6C,OACS,mBAAX,OAAX7C,QAAW,IAAXA,OAAW,EAAXA,EAAa6C,OACS,6BAAX,OAAX7C,QAAW,IAAXA,OAAW,EAAXA,EAAa6C,OACS,qBAAX,OAAX7C,QAAW,IAAXA,OAAW,EAAXA,EAAa6C,OACS,iBAAX,OAAX7C,QAAW,IAAXA,OAAW,EAAXA,EAAa6C,SACbnV,EAAAA,EAAAA,KAACkP,EAAAA,IAAgB,CACfN,MAAM,0BACNpQ,MAAO,CACL6P,SAAU,OACV3P,OAAQ,UACR0W,WAAY,OACZrI,KAAM,WAERhN,QAASA,IAAMoB,GAAQ,KAExB,OAEJqH,EAAatE,OAAS,GACrBlE,EAAAA,EAAAA,KAACqV,EAAAA,EAAK,CACJjV,QAASA,EACTC,KAAM9B,EACNgB,aAzGa,eA0GbgB,eAAgBA,EAChBC,gBAAiBoP,KAGnB5P,EAAAA,EAAAA,KAAA,OAAKP,UAAU,WAAUC,UACvBM,EAAAA,EAAAA,KAAA,MAAIxB,MAAO,CAAE6P,SAAU,QAAS3O,SAAC,iCAIrCM,EAAAA,EAAAA,KAACsV,EAAuB,CACtBpU,KAAMA,EACNC,QAASA,EACTkI,iBACEyG,EAASiE,MAAMvI,GAAYA,EAAQwI,gBAAkBpE,IAClDqE,aAEL3K,YAAasG,MAEX,C,qJCnVV,MAAM2F,GAAiBC,EAAAA,EAAAA,IAAO,MAAPA,CAAc,CACnCC,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACR/W,gBAAiB,2BACjBgX,OAAQ,KACRhT,QAAS,OACTC,WAAY,SACZC,eAAgB,WAgOlB,EA7NuB5D,IAUhB,IAViB,KACtB8B,EAAI,YACJ6H,EAAW,gBACXI,EAAe,KAEf9I,EAAI,gBAGJG,EAAe,QACfY,GACDhC,EACCqH,QAAQC,IAAIrG,GACZ,MAAO0V,EAAYC,IAAiBhV,EAAAA,EAAAA,WAAS,IACtCiV,IAAajV,EAAAA,EAAAA,WAAS,GAYvBkV,EAAeA,KACnBF,GAAeG,IAAUA,GAAK,EAmChC,OACEnW,EAAAA,EAAAA,KAAAiP,EAAAA,SAAA,CAAAvP,SACG0B,GACC5B,EAAAA,EAAAA,MAACoO,EAAAA,EAAM,CACL1M,KAAMA,EACNkV,aAAW,EACXC,WAAS,EACT,mBAAiB,iCAAgC3W,SAAA,EAEjDM,EAAAA,EAAAA,KAAA,OAAKxB,MAAO,CAAEkQ,OAAQ,QAAShP,UAC7BM,EAAAA,EAAAA,KAACsW,EAAAA,EAAU,CACT,aAAW,QACXvW,QAASgJ,EACTlJ,GAAI,CACF4V,SAAU,WACVG,MAAO,EACPF,IAAK,EACL3W,MAAO,WACPW,UAEFM,EAAAA,EAAAA,KAACuW,EAAAA,IAAO,SAGZ/W,EAAAA,EAAAA,MAAA,OACEhB,MAAO,CACLsE,QAAS,OACTE,eAAgB,SAChBD,WAAY,SACZiQ,OAAQ,QACRtT,SAAA,EAEFM,EAAAA,EAAAA,KAACwW,EAAAA,EAAgB,KACjBxW,EAAAA,EAAAA,KAACiO,EAAAA,EAAU,CAACrO,QAAQ,KAAKpB,MAAO,CAAE4W,WAAY,QAAS1V,SAAC,4BAM5DF,EAAAA,EAAAA,MAACoO,EAAAA,EAAM,CACL1M,KAAMA,EACNkV,aAAW,EACXC,WAAS,EACT,mBAAiB,iCAAgC3W,SAAA,CAEhDuW,IACCjW,EAAAA,EAAAA,KAACuV,EAAc,CAAA7V,UACbM,EAAAA,EAAAA,KAACwW,EAAAA,EAAgB,OAGrBhX,EAAAA,EAAAA,MAAA,OAAKhB,MAAO,CAAEkQ,OAAQ,QAAShP,SAAA,EAC7BM,EAAAA,EAAAA,KAACsW,EAAAA,EAAU,CACT,aAAW,QACXvW,QAASgJ,EACTlJ,GAAI,CACF4V,SAAU,WACVG,MAAO,EACPF,IAAK,EACL3W,MAAO,WACPW,UAEFM,EAAAA,EAAAA,KAACuW,EAAAA,IAAO,OAEVvW,EAAAA,EAAAA,KAACiO,EAAAA,EAAU,CAACrO,QAAQ,KAAIF,SAAC,sBAG3BM,EAAAA,EAAAA,KAAC8N,EAAAA,EAAa,CAAApO,UACZF,EAAAA,EAAAA,MAACqT,EAAAA,GAAI,CAACC,WAAS,EAAC2D,QAAS,EAAE/W,SAAA,EACzBF,EAAAA,EAAAA,MAACqT,EAAAA,GAAI,CAACnP,MAAI,EAACgT,GAAI,GAAIC,GAAI,EAAEjX,SAAA,EACvBF,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,oBAAwB,IAAEW,EAAKuW,gBAEzCpX,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,sBAA0B,IAAEW,EAAKwW,kBAE3CrX,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,qBAA0B,IACjCW,EAAKuW,YAAcvW,EAAKwW,kBAE3BrX,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,kBAAsB,IAAEW,EAAKyW,iBAEvCtX,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,oBAAwB,IAAEW,EAAKiH,mBAEzC9H,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,oBAAwB,IAAEW,EAAK0W,cAEzCvX,EAAAA,EAAAA,MAACyO,EAAAA,EAAU,CAACrO,QAAQ,QAAOF,SAAA,EACzBM,EAAAA,EAAAA,KAAA,UAAAN,SAAQ,SAAa,IAAEW,EAAK2W,gBAGhChX,EAAAA,EAAAA,KAAC6S,EAAAA,GAAI,CAACnP,MAAI,EAACgT,GAAI,GAAIC,GAAI,EAAEjX,UACvBF,EAAAA,EAAAA,MAAA,OAAKhB,MAAO,CAAEiX,SAAU,YAAa/V,SAAA,EACnCM,EAAAA,EAAAA,KAAA,OACEiX,IAAK9N,EACL+N,IAAI,cACJ1Y,MAAO,CACLyE,MAAO,OACP+P,OAAQ,OACRtU,OAAQqX,EAAa,WAAa,WAEpChW,QAASmW,IAEVH,GACC/V,EAAAA,EAAAA,KAACsW,EAAAA,EAAU,CACT,aAAW,SACXvW,QAASmW,EACTrW,GAAI,CACF4V,SAAU,WACVI,OAAQ,EACRD,MAAO,EACP7W,MAAO,QACPW,UAEFM,EAAAA,EAAAA,KAACmX,EAAAA,IAAgB,OAGnBnX,EAAAA,EAAAA,KAACsW,EAAAA,EAAU,CACT,aAAW,SACXvW,QAASmW,EACTrW,GAAI,CACF4V,SAAU,WACVI,OAAQ,EACRD,MAAO,EACP7W,MAAO,QACPW,UAEFM,EAAAA,EAAAA,KAACoX,EAAAA,IAAY,oBA6B5B,C,gGCzRyC1H,EAAAA,EAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAApD,MA+CMnF,EAA+BmF,EAAAA,EAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAiCnC2H,EAA0B3H,EAAAA,EAAI;;;;;;;;;;;;;;;;;;;;;;;EAyB9B4H,EAAwB5H,EAAAA,EAAI;;;;;;;;;;;;;;;;;;;;;;;EAyB5B6H,EAAiC7H,EAAAA,EAAI;;;;;;;;;;;;;;;;EAkBrCrF,EAAsBqF,EAAAA,EAAI;;;;;;;;EAU1B2C,EAAkC3C,EAAAA,EAAI","sources":["utils/timezone.js","components/Table/Table.js","components/Modals/UploadParticipantsModal.js","graphql/queries/attendancesRequests.js","features/participants/Participants.js","features/training-session/ts-detail/sessionimage/Imagecontainer.js","graphql/queries/participantsRequests.js"],"sourcesContent":["const TimeZone = () => {\r\n  // Get the current date and time\r\n  const now = new Date();\r\n\r\n  // Get the user's timezone\r\n  const userTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n\r\n  // Format the date and time according to the user's timezone\r\n  const formattedDate = now.toLocaleDateString(\"en-US\", {\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n  });\r\n\r\n  const formattedTime = now.toLocaleTimeString(\"en-US\", {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n    timeZone: userTimezone,\r\n  });\r\n\r\n  // Output the date and time\r\n  return `${formattedDate}_at_${formattedTime}`;\r\n};\r\n\r\nexport default TimeZone;\r\n","import { useState, useEffect } from \"react\";\r\nimport \"./table.css\";\r\n// import FilterContainer from \"../Filter/FilterContainer\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport { BiSearchAlt } from \"react-icons/bi\";\r\nimport { Button } from \"@mui/material\";\r\nimport { FaFileExport } from \"react-icons/fa\";\r\n// import { ExportToCsv, generateCsv } from \"export-to-csv\";\r\nimport { mkConfig, generateCsv, download } from \"export-to-csv\";\r\nimport { utils, writeFile } from \"xlsx\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport TimeZone from \"../../utils/timezone\";\r\n// import FVQAModal from \"../Modals/FVQAModal\";\r\nimport Imagecontainer from \"../../features/training-session/ts-detail/sessionimage/Imagecontainer\";\r\nimport { GET_TRAINING_SESSION_IMAGE } from \"../../graphql/queries/trainingSessionsRequests\";\r\n\r\nconst customStyles = {\r\n  rows: {\r\n    style: {\r\n      minHeight: \"30px\",\r\n      cursor: \"pointer\",\r\n    },\r\n  },\r\n  headCells: {\r\n    style: {\r\n      paddingLeft: \"8px\",\r\n      paddingRight: \"8px\",\r\n      backgroundColor: \"#1b2a4e\" /* Matching sidebar color */,\r\n      color: \"white\",\r\n    },\r\n  },\r\n  cells: {\r\n    style: {\r\n      paddingLeft: \"5px\",\r\n      paddingRight: \"5px\",\r\n      paddingTop: \"5px\",\r\n      paddingBottom: \"5px\",\r\n    },\r\n  },\r\n};\r\n\r\n// Export Buttons Component\r\nconst ExportButtons = ({\r\n  handleCSVExport,\r\n  handleExcelExport,\r\n  tableRowItem,\r\n}) => (\r\n  <div className=\"export-buttons\">\r\n    {tableRowItem !== \"trainsessionapprov\" && (\r\n      <Button\r\n        variant=\"outlined\"\r\n        sx={{ color: \"#1b2a4e\", borderColor: \"#1b2a4e\" }}\r\n        onClick={handleCSVExport}\r\n      >\r\n        <FaFileExport style={{ marginRight: \"5px\" }} /> CSV\r\n      </Button>\r\n    )}\r\n    <Button\r\n      variant=\"outlined\"\r\n      sx={{ color: \"#1b2a4e\", borderColor: \"#1b2a4e\" }}\r\n      onClick={handleExcelExport}\r\n    >\r\n      <FaFileExport style={{ marginRight: \"5px\" }} />\r\n      {tableRowItem !== \"trainsessionapprov\" ? \"Excel\" : \"Download Report\"}\r\n    </Button>\r\n  </div>\r\n);\r\n\r\nconst Table = ({\r\n  columns,\r\n  data,\r\n  filter,\r\n  // setFilter,\r\n  // setFilteredGroups,\r\n  // setFilteredSessions,\r\n  tableRowItem,\r\n  allAttendances,\r\n  // details,\r\n  selectedProject,\r\n}) => {\r\n  const pathName = tableRowItem || window.location.pathname.split(\"/\")[2];\r\n  const [rowDetails, setRowDetails] = useState({ ts_id: null });\r\n  const [open, setOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [session_image, setSession_image] = useState(null);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [fvId, setFvId] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const imageData = useQuery(GET_TRAINING_SESSION_IMAGE, {\r\n    variables: { tsId: rowDetails && rowDetails.ts_id ? rowDetails.ts_id : \"\" },\r\n    skip: !rowDetails,\r\n  });\r\n\r\n  // Restore original filename variable\r\n  const filename =\r\n    pathName === \"traingroup\"\r\n      ? \"mypima_training_group\"\r\n      : pathName === \"trainsession\"\r\n      ? \"mypima_training_session\"\r\n      : pathName === \"participants\"\r\n      ? \"Participants Data\"\r\n      : pathName === \"farmvisit\"\r\n      ? \"mypima_farm_visit\"\r\n      : \"mypima_attendance\";\r\n\r\n  useEffect(() => {\r\n    if (\r\n      !imageData.loading &&\r\n      imageData.data?.trainingSessionImage?.status === 200\r\n    ) {\r\n      setLoading(false);\r\n      setSession_image(\r\n        imageData.data.trainingSessionImage.trainingSessionImage\r\n      );\r\n    }\r\n  }, [imageData]);\r\n\r\n  const handleOpenModal = () => {\r\n    setModalOpen(true);\r\n  };\r\n\r\n  // const handleCloseModal = () => {\r\n  //   setModalOpen(false);\r\n  // };\r\n\r\n  const handleRowClick = (row) => {\r\n    setRowDetails(row);\r\n\r\n    const idMapping = {\r\n      trainsession: row.ts_id,\r\n      traingroup: row.tg_id,\r\n      participants: row.p_id,\r\n      farmvisit: row.fv_ids,\r\n      trainsessionapprov: row.ts_id,\r\n    };\r\n\r\n    const id = idMapping[tableRowItem] || row.attendance_id;\r\n\r\n    if (tableRowItem !== \"farmvisit\" && tableRowItem !== \"trainsessionapprov\") {\r\n      navigate(`/in/${tableRowItem}/${id}`);\r\n    } else if (tableRowItem === \"farmvisit\") {\r\n      setFvId(row.fv_id);\r\n      handleOpenModal();\r\n    } else if (tableRowItem === \"trainsessionapprov\") {\r\n      setOpen(true);\r\n      setLoading(true);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    const value = e.target.value.toLowerCase();\r\n    const filteredItems = data.filter((item) =>\r\n      columns.some((column) => {\r\n        const field = item[column.id];\r\n        return field?.toString().toLowerCase().includes(value);\r\n      })\r\n    );\r\n    setFilteredData(filteredItems);\r\n    setSearchText(e.target.value);\r\n  };\r\n\r\n  const handleCSVExport = () => {\r\n    if (!data || data.length === 0) {\r\n      alert(\"No data available for export.\");\r\n      return;\r\n    }\r\n\r\n    let updatedColumns = [...columns];\r\n\r\n    // Add new columns if pathName is \"farmvisit\"\r\n    if (pathName === \"farmvisit\") {\r\n      const newColumns = [\r\n        { id: \"household_tns_id\" },\r\n        { id: \"pima_farmer_id\" },\r\n        { id: \"pima_household_id\" },\r\n      ];\r\n      updatedColumns = [...updatedColumns, ...newColumns];\r\n    }\r\n\r\n    const partsHeaders = [\r\n      \"num\",\r\n      \"Project\",\r\n      \"first_name\",\r\n      \"middle_name\",\r\n      \"last_name\",\r\n      \"gender\",\r\n      \"age\",\r\n      \"coffee_tree_numbers\",\r\n      \"number_of_coffee_plots\",\r\n      \"phone_number\",\r\n      selectedProject === \"a0EOj000002FMGnMAO\" ||\r\n      selectedProject === \"a0EOj000002C7ivMAC\"\r\n        ? \"national_identification_id\"\r\n        : selectedProject === \"a0EOj000003E0knMAC\"\r\n        ? \"growers_number\"\r\n        : \"coop_membership_number\",\r\n      \"location\",\r\n      \"farmer_sf_id\",\r\n      \"tns_id\",\r\n      \"hh_number\",\r\n      \"sf_household_id\",\r\n      \"farmer_number\",\r\n      \"ffg_id\",\r\n      \"training_group\",\r\n      \"status\",\r\n      \"farmer_trainer\",\r\n      selectedProject === \"a0EOj000003E0knMAC\"\r\n        ? \"agronomy_advisor\"\r\n        : \"business_advisor\",\r\n      \"create_in_commcare\",\r\n    ];\r\n\r\n    if (tableRowItem === \"participants\") {\r\n      const monthlyAttendanceMap = new Map();\r\n      const filteredAttendances = allAttendances.filter((attendance) =>\r\n        data.some(\r\n          (participant) => participant.p_id === attendance.participant_id\r\n        )\r\n      );\r\n\r\n      filteredAttendances.forEach((attendance) => {\r\n        const {\r\n          attendance_status,\r\n          participant_id,\r\n          module_number,\r\n          module_name,\r\n          module_id,\r\n        } = attendance;\r\n\r\n        const key = `${module_number}-${module_name}-${module_id}`;\r\n\r\n        if (!monthlyAttendanceMap.has(key)) {\r\n          monthlyAttendanceMap.set(key, {});\r\n        }\r\n\r\n        const monthlyAttendance = monthlyAttendanceMap.get(key);\r\n        monthlyAttendance[participant_id] =\r\n          attendance_status === \"Present\" ? \"1\" : \"0\";\r\n      });\r\n\r\n      for (const [monthKey] of monthlyAttendanceMap) {\r\n        partsHeaders.push(monthKey);\r\n      }\r\n\r\n      const csvRows =\r\n        searchText.length > 0\r\n          ? filteredData.map((participant) => {\r\n              const rowData = { ...participant };\r\n              for (const [\r\n                monthKey,\r\n                monthlyAttendance,\r\n              ] of monthlyAttendanceMap) {\r\n                rowData[monthKey] = monthlyAttendance[participant.p_id] || \"\";\r\n              }\r\n              return rowData;\r\n            })\r\n          : data.map((participant) => {\r\n              const rowData = { ...participant };\r\n              for (const [\r\n                monthKey,\r\n                monthlyAttendance,\r\n              ] of monthlyAttendanceMap) {\r\n                rowData[monthKey] = monthlyAttendance[participant.p_id] || \"\";\r\n              }\r\n              return rowData;\r\n            });\r\n\r\n      data = csvRows;\r\n    }\r\n\r\n    // Remove unnecessary keys from the data\r\n    const sanitizedData = data.map(\r\n      ({ tg_id, ts_id, p_id, attendance_id, fv_id, __typename, ...rest }) =>\r\n        rest\r\n    );\r\n\r\n    // Step 1: Create the configuration for CSV\r\n    const config = mkConfig({\r\n      // fieldSeparator: \",\",\r\n      // quoteStrings: '\"',\r\n      // decimalSeparator: \".\",\r\n      // showLabels: true,\r\n      // useBom: true,\r\n      filename: filename,\r\n      columnHeaders: tableRowItem === \"participants\" ? partsHeaders : updatedColumns.map((column) => column.id)\r\n    });\r\n\r\n    // Step 2: Generate CSV string content\r\n    const csvContent = generateCsv(config)(sanitizedData);\r\n\r\n    if (!csvContent) {\r\n      console.error(\"Output is empty. Is your data formatted correctly?\");\r\n      return;\r\n    }\r\n\r\n    // Step 3: Trigger CSV file download\r\n    download(config)(csvContent);\r\n    console.log(\"Download successful\");\r\n\r\n    console.log(\"Config:\", config);\r\n    console.log(\"Data:\", data);\r\n    console.log(\"CSV Content:\", csvContent);\r\n  };\r\n\r\n  const handleExcelExport = () => {\r\n    const sheetName = \"Sessions Data\";\r\n    const summarySheetName = \"Summary by Trainer\";\r\n\r\n    const sessionsData = {\r\n      header: columns.map((column) => column.id),\r\n      body: data.map(\r\n        ({ tg_id, ts_id, p_id, attendance_id, fv_id, __typename, ...rest }) =>\r\n          Object.values(rest)\r\n      ),\r\n    };\r\n\r\n    const trainerSummary = data.reduce(\r\n      (acc, { farmer_trainer, session_image_status }) => {\r\n        const key = `${farmer_trainer}_${session_image_status}`;\r\n        if (!acc[key]) {\r\n          acc[key] = { farmer_trainer, session_image_status, count: 0 };\r\n        }\r\n        acc[key].count += 1;\r\n        return acc;\r\n      },\r\n      {}\r\n    );\r\n\r\n    const summaryData = Object.values(trainerSummary);\r\n\r\n    const trainerSummaryData = {\r\n      header: [\"farmer_trainer\", \"session_image_status\", \"count\"],\r\n      body: summaryData.map((data) => Object.values(data)),\r\n    };\r\n\r\n    const workbook = utils.book_new();\r\n    const sessionsWorksheet = utils.json_to_sheet(\r\n      [sessionsData.header, ...sessionsData.body],\r\n      { skipHeader: true }\r\n    );\r\n    const summaryWorksheet = utils.json_to_sheet(\r\n      [trainerSummaryData.header, ...trainerSummaryData.body],\r\n      { skipHeader: true }\r\n    );\r\n\r\n    utils.book_append_sheet(workbook, summaryWorksheet, summarySheetName);\r\n    utils.book_append_sheet(workbook, sessionsWorksheet, sheetName);\r\n\r\n    writeFile(workbook, `${filename}_${TimeZone()}.xlsx`);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={`table-header-actions ${!filter ? \"no-filter\" : \"\"}`}>\r\n        {/* Filter Button (if filter exists) */}\r\n        {filter && <Button className=\"filter-button\">Filter</Button>}\r\n\r\n        {/* Search and Export Buttons */}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            width: \"100%\",\r\n          }}\r\n        >\r\n          <div className=\"search-container\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search...\"\r\n              value={searchText}\r\n              onChange={handleSearch}\r\n            />\r\n            <span className=\"search-icon\">\r\n              <BiSearchAlt />\r\n            </span>\r\n          </div>\r\n\r\n          {/* Export Buttons */}\r\n          <ExportButtons\r\n            handleCSVExport={handleCSVExport}\r\n            handleExcelExport={handleExcelExport}\r\n            tableRowItem={tableRowItem}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <DataTable\r\n        columns={columns}\r\n        data={searchText.length > 0 ? filteredData : data}\r\n        onRowClicked={handleRowClick}\r\n        pagination\r\n        highlightOnHover\r\n        customStyles={customStyles}\r\n        className=\"table-container\"\r\n      />\r\n\r\n      {/* TODO: REIMPLEMENT THIS */}\r\n      {/* <FVQAModal\r\n        open={modalOpen}\r\n        handleClose={handleCloseModal}\r\n        fvId={fvId}\r\n        details={details}\r\n        rowDetails={rowDetails}\r\n      /> */}\r\n\r\n      {open && (\r\n        <Imagecontainer\r\n          open={open}\r\n          handleClose={() => setOpen(false)}\r\n          id={rowDetails.ts_id}\r\n          data={rowDetails}\r\n          isVerified={rowDetails.is_verified}\r\n          imageStatus={rowDetails.session_image_status}\r\n          sessionImageUrl={session_image}\r\n          selectedProject={selectedProject}\r\n          loading={loading}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  DialogActions,\r\n  Chip,\r\n  Alert,\r\n} from \"@mui/material\";\r\nimport { FileUploader } from \"react-drag-drop-files\";\r\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\r\nimport { AiOutlineCloseCircle } from \"react-icons/ai\";\r\nimport { BiErrorAlt } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"@apollo/client\";\r\nimport { saveAs } from \"file-saver\";\r\nimport {\r\n  GET_PARTICIPANTS_PER_PROJECT,\r\n  UPLOAD_PARTICIPANTS,\r\n} from \"../../graphql/queries/participantsRequests\";\r\n\r\nconst requiredColumns = [\r\n  \"Project\",\r\n  \"first_name\",\r\n  \"last_name\",\r\n  \"gender\",\r\n  \"age\",\r\n  \"coffee_tree_numbers\",\r\n  \"farmer_sf_id\",\r\n  \"tns_id\",\r\n  \"hh_number\",\r\n  \"sf_household_id\",\r\n  \"farmer_number\",\r\n  \"ffg_id\",\r\n  \"training_group\",\r\n  \"status\",\r\n];\r\n\r\nconst UploadParticipantsModal = ({\r\n  open,\r\n  setOpen,\r\n  navigatedProject,\r\n  sfProjectId,\r\n}) => {\r\n  const [fileInfo, setFileInfo] = useState(null);\r\n  const [file, setFile] = useState(null);\r\n  const [loadedColumns, setLoadedColumns] = useState([]);\r\n  const [distinctProjects, setDistinctProjects] = useState([]);\r\n  const [uploadResult, setUploadResult] = useState(null);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n  const [uploadParticipants] = useMutation(UPLOAD_PARTICIPANTS);\r\n  const participantsPerProject = useQuery(GET_PARTICIPANTS_PER_PROJECT, {\r\n    variables: { projectId: sfProjectId },\r\n  });\r\n\r\n  const handleChange = (file) => {\r\n    setFile(file);\r\n    setUploadResult(null);\r\n    parseFile(file);\r\n  };\r\n\r\n  const parseFile = (file) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const loadedData = e.target.result.split(/\\r\\n|\\n/);\r\n      const modifiedData = loadedData.map((row) =>\r\n        row.split(\",\").map((cell) => cell.replace(/^\"(.*)\"$/, \"$1\"))\r\n      );\r\n      setFileInfo({\r\n        filename: file.name,\r\n        size: file.size,\r\n        type: file.type,\r\n        data: modifiedData.length > 0 ? modifiedData : loadedData,\r\n      });\r\n      setLoadedColumns(modifiedData[0]);\r\n    };\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!fileInfo) return;\r\n    if (fileInfo.data && fileInfo.data.length < 2) return;\r\n    extractDistinctProjects(fileInfo);\r\n  }, [fileInfo, loadedColumns]);\r\n\r\n  const extractDistinctProjects = (fileInfo) => {\r\n    const projectColumn = fileInfo.data\r\n      .map((row) => row[loadedColumns.indexOf(\"Project\")])\r\n      .filter((project) => project);\r\n    setDistinctProjects([...new Set(projectColumn)]);\r\n  };\r\n\r\n  const handleClose = (e, reason) => {\r\n    if (reason === \"backdropClick\" || reason === \"escapeKeyDown\") return;\r\n    resetState();\r\n  };\r\n\r\n  const resetState = () => {\r\n    setFileInfo(null);\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (isProcessing) return;\r\n    setIsProcessing(true);\r\n    setUploadResult(null);\r\n    const newFile = createProjectSpecificFile(\r\n      fileInfo,\r\n      loadedColumns,\r\n      navigatedProject\r\n    );\r\n    await uploadFile(newFile);\r\n  };\r\n\r\n  const createProjectSpecificFile = (fileInfo, loadedColumns, project) => {\r\n    const projectIndex = loadedColumns.indexOf(\"Project\");\r\n    const projectData = fileInfo.data.filter(\r\n      (row) => row[projectIndex] === project\r\n    );\r\n    const projectDataString = `${loadedColumns.join(\",\")}\\n${projectData.join(\r\n      \"\\n\"\r\n    )}`;\r\n    return new File([projectDataString], fileInfo.filename, {\r\n      type: \"text/csv\",\r\n    });\r\n  };\r\n\r\n  const uploadFile = async (file) => {\r\n    try {\r\n      const res = await uploadParticipants({ variables: { partsFile: file } });\r\n      await participantsPerProject.refetch();\r\n      setUploadResult(res.data.uploadParticipants);\r\n      if (res.data.uploadParticipants.status === 200) {\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 5000);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      setUploadResult({\r\n        status: 500,\r\n        message: \"Something went wrong. Please try again.\",\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleDownloadErrors = () => {\r\n    const { file, message } = uploadResult;\r\n    if (file) {\r\n      const byteCharacters = atob(file);\r\n      const byteNumbers = new Array(byteCharacters.length).fill().map((_, i) => byteCharacters.charCodeAt(i));\r\n      const byteArray = new Uint8Array(byteNumbers);\r\n      const blob = new Blob([byteArray], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" });\r\n      saveAs(blob, \"error_file.xlsx\");\r\n    } else {\r\n      console.error(\"No file found in the upload result.\");\r\n    }\r\n  };\r\n\r\n  const renderFileDetails = () => (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Typography variant=\"body2\">\r\n        <strong>Name:</strong> {fileInfo.filename}\r\n      </Typography>\r\n      <Typography variant=\"body2\">\r\n        <strong>Size:</strong> {formatFileSize(fileInfo.size)}\r\n      </Typography>\r\n      <Typography variant=\"body2\">\r\n        <strong>Type:</strong> {fileInfo.type}\r\n      </Typography>\r\n      <Typography variant=\"body2\">\r\n        <strong>Total Records:</strong> {formatNumberWithCommas(fileInfo.data.length - 2)}\r\n      </Typography>\r\n      {distinctProjects.length > 1 && (\r\n        <Typography variant=\"body4\" sx={{ marginBottom: \"10px\" }}>\r\n          Only records for <strong>{navigatedProject} ({fileInfo.data.filter((row) => row[loadedColumns.indexOf(\"Project\")] === navigatedProject).length} records)</strong> will be processed from this file.\r\n        </Typography>\r\n      )}\r\n    </Box>\r\n  );\r\n\r\n  const formatFileSize = (size) => (\r\n    size > 1000000 ? `${(size / 1000000).toFixed(2)} MB` : `${(size / 1000).toFixed(2)} KB`\r\n  );\r\n\r\n  const formatNumberWithCommas = (number) => (\r\n    number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\r\n  );\r\n\r\n  const renderRequiredColumnsAlert = () => (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Typography variant=\"body1\">\r\n        <BiErrorAlt style={{ fontSize: \"2rem\", color: \"#B90101\" }} /> File must contain all required columns:\r\n      </Typography>\r\n      <Typography variant=\"body2\" sx={{ display: \"flex\", alignItems: \"center\", flexWrap: \"wrap\" }}>\r\n        {requiredColumns.filter((column) => !loadedColumns.includes(column)).map((column, index) => (\r\n          <Chip key={index} label={column} sx={{ margin: \"5px 0.5rem\" }} color=\"primary\" variant=\"outlined\" />\r\n        ))}\r\n      </Typography>\r\n      <div className=\"upload_actions\">\r\n        <AiOutlineCloseCircle onClick={() => setFileInfo(null)} className=\"back__icon\" title=\"Back to Upload New File\" />\r\n      </div>\r\n    </Box>\r\n  );\r\n\r\n  const renderEmptyFileAlert = () => (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Typography variant=\"body1\" sx={{ fontStyle: \"italic\" }}>\r\n        <BiErrorAlt style={{ fontSize: \"1.5rem\", color: \"#B90101\" }} /> There are no records in the file. Please upload a file with data.\r\n      </Typography>\r\n      <div className=\"upload_actions\">\r\n        <AiOutlineCloseCircle onClick={() => setFileInfo(null)} className=\"back__icon\" title=\"Back to Upload New File\" />\r\n      </div>\r\n    </Box>\r\n  );\r\n\r\n  const renderProjectMismatchAlert = () => (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Typography variant=\"body1\" sx={{ fontStyle: \"italic\" }}>\r\n        <BiErrorAlt style={{ fontSize: \"3rem\", color: \"#B90101\" }} /> The project(s) in the file does not match the project you are currently navigating. Please upload a file with the correct project.\r\n      </Typography>\r\n      <div className=\"upload_actions\">\r\n        <AiOutlineCloseCircle onClick={() => setFileInfo(null)} className=\"back__icon\" title=\"Back to Upload New File\" />\r\n      </div>\r\n    </Box>\r\n  );\r\n\r\n  const renderProcessingState = () => (\r\n    <Typography variant=\"body2\" sx={{ marginBottom: \"10px\", width: \"100%\", textAlign: \"center\" }}>\r\n      <em style={{ fontWeight: \"bold\", color: \"#6C757D\" }}>Data are being processed, wait...</em>\r\n    </Typography>\r\n  );\r\n\r\n  const renderUploadResult = () => (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }} className=\"file-info\">\r\n      <Typography variant=\"body2\">\r\n        <Alert severity={uploadResult.status === 200 ? \"success\" : \"error\"}>{uploadResult.message}</Alert>\r\n      </Typography>\r\n      {uploadResult.status !== 200 && uploadResult.file && (\r\n        <Button onClick={handleDownloadErrors} variant=\"contained\" color=\"primary\">\r\n          Download Error File\r\n        </Button>\r\n      )}\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose}>\r\n      <DialogContent>\r\n        {!fileInfo ? (\r\n          <FileUploader label={\"Drag and drop or browse a file to upload. File must be: \"} handleChange={handleChange} name=\"file\" types={[\"csv\"]} />\r\n        ) : uploadResult ? (\r\n          renderUploadResult()\r\n        ) : loadedColumns.filter((column) => requiredColumns.includes(column)).length !== requiredColumns.length ? (\r\n          renderRequiredColumnsAlert()\r\n        ) : fileInfo.data.length - 2 < 1 ? (\r\n          renderEmptyFileAlert()\r\n        ) : !distinctProjects.includes(navigatedProject) ? (\r\n          renderProjectMismatchAlert()\r\n        ) : (\r\n          <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }} className=\"file-info\">\r\n            {renderFileDetails()}\r\n            <div className=\"upload_actions\">\r\n              {isProcessing ? renderProcessingState() : (\r\n                <>\r\n                  <AiOutlineCloseCircle onClick={() => setFileInfo(null)} className=\"back__icon\" title=\"Back to Upload New File\" />\r\n                  <FaCloudUploadAlt title=\"Proceed Records Processing\" className=\"upload__icon\" onClick={handleUpload} />\r\n                </>\r\n              )}\r\n            </div>\r\n          </Box>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} disabled={isProcessing}>Cancel</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default UploadParticipantsModal;\r\n","import { gql } from \"@apollo/client\";\r\n\r\n// const GET_ALL_ATTENDANCES = gql`\r\n//   query GetAttendances($projectId: String!) {\r\n//     getAttendances(project_id: $projectId) {\r\n//       message\r\n//       status\r\n//       attendance {\r\n//         attendance_id\r\n//         participant_id\r\n//         attendance_name\r\n//         attendance_date\r\n//         attendance_status\r\n//         session_id\r\n//         module_name\r\n//         module_number\r\n//         module_id\r\n//       }\r\n//     }\r\n//   }\r\n// `;\r\n\r\nconst GET_ALL_ATTENDANCES = gql`\r\n  query GetAttendances($projectId: String!, $limit: Int, $offset: Int) {\r\n    getAttendances(project_id: $projectId, limit: $limit, offset: $offset) {\r\n      message\r\n      status\r\n      attendance {\r\n        attendance_id\r\n        participant_id\r\n        attendance_status\r\n        module_name\r\n        module_number\r\n        module_id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport { GET_ALL_ATTENDANCES };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Chip } from \"@mui/material\";\r\nimport Table from \"../../components/Table/Table\";\r\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\r\nimport UploadParticipantsModal from \"../../components/Modals/UploadParticipantsModal\";\r\nimport {\r\n  GET_PARTICIPANTS_PER_PROJECT,\r\n  SYNC_PARTICIPANTS_WITH_COMMCARE,\r\n} from \"../../graphql/queries/participantsRequests\";\r\nimport { GET_ALL_ATTENDANCES } from \"../../graphql/queries/attendancesRequests\";\r\nimport { useMutation, useQuery } from \"@apollo/client\";\r\nimport { BeatLoader } from \"react-spinners\";\r\nimport { Grid } from \"@mui/material\";\r\nimport { useOutletContext } from \"react-router-dom\";\r\n\r\nconst Participants = () => {\r\n  const { activeProject, trainingGroups, projects } = useOutletContext();\r\n  const [open, setOpen] = useState(false);\r\n  const [sendToCcCount, setSendToCcCount] = useState();\r\n  const [isSyncing, setIsSyncing] = useState(false);\r\n\r\n  const {\r\n    data: participantData,\r\n    loading: participantsLoading,\r\n    error: participantsError,\r\n    refetch: refetchParticipants,\r\n  } = useQuery(GET_PARTICIPANTS_PER_PROJECT, {\r\n    variables: { projectId: activeProject },\r\n    skip: !activeProject,\r\n  });\r\n\r\n  const [allAttendances, setAllAttendances] = useState([]);\r\n  const [attendanceLoading, setAttendanceLoading] = useState(true);\r\n  const [attendanceError, setAttendanceError] = useState(null);\r\n\r\n  const { fetchMore } = useQuery(GET_ALL_ATTENDANCES, {\r\n    variables: {\r\n      projectId: activeProject,\r\n      limit: 5000,\r\n      offset: 0,\r\n    },\r\n    skip: !activeProject,\r\n    notifyOnNetworkStatusChange: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchAllAttendancesParallel = async () => {\r\n      if (!activeProject) return;\r\n\r\n      try {\r\n        setAttendanceLoading(true);\r\n        setAttendanceError(null);\r\n\r\n        const limit = 5000;\r\n        let offset = 0;\r\n        let allChunks = [];\r\n\r\n        // First request\r\n        const { data: initialData } = await fetchMore({\r\n          variables: { projectId: activeProject, limit, offset },\r\n        });\r\n\r\n        const initialChunk = initialData?.getAttendances?.attendance || [];\r\n        allChunks = [...initialChunk];\r\n\r\n        if (initialChunk.length < limit) {\r\n          setAllAttendances(allChunks);\r\n          return setAttendanceLoading(false);\r\n        }\r\n\r\n        offset += limit;\r\n\r\n        // Now fetch sequentially in batches (e.g. 3 at a time)\r\n        const maxParallel = 10;\r\n        let keepGoing = true;\r\n\r\n        while (keepGoing) {\r\n          const promises = [];\r\n\r\n          for (let i = 0; i < maxParallel; i++) {\r\n            const currentOffset = offset + i * limit;\r\n\r\n            const p = fetchMore({\r\n              variables: {\r\n                projectId: activeProject,\r\n                limit,\r\n                offset: currentOffset,\r\n              },\r\n            }).then((res) => {\r\n              const chunk = res?.data?.getAttendances?.attendance || [];\r\n              return { chunk, currentOffset };\r\n            });\r\n\r\n            promises.push(p);\r\n          }\r\n\r\n          const results = await Promise.all(promises);\r\n\r\n          for (let res of results) {\r\n            if (res.chunk.length > 0) {\r\n              allChunks = [...allChunks, ...res.chunk];\r\n            }\r\n\r\n            if (res.chunk.length < limit) {\r\n              keepGoing = false;\r\n            }\r\n          }\r\n\r\n          offset += maxParallel * limit;\r\n        }\r\n\r\n        setAllAttendances(allChunks);\r\n      } catch (err) {\r\n        console.error(\"Parallel attendance fetch error:\", err);\r\n        setAttendanceError(err);\r\n      } finally {\r\n        setAttendanceLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAllAttendancesParallel();\r\n  }, [activeProject, fetchMore]);\r\n\r\n  // const {\r\n  //   data: attendanceData,\r\n  //   loading: attendanceLoading,\r\n  //   error: attendanceError,\r\n  // } = useQuery(GET_ALL_ATTENDANCES, {\r\n  //   variables: { projectId: activeProject },\r\n  //   skip: !activeProject,\r\n  // });\r\n\r\n  const [SyncParticipants] = useMutation(SYNC_PARTICIPANTS_WITH_COMMCARE);\r\n\r\n  const userDetails = JSON.parse(window.localStorage.getItem(\"myPimaUserData\"));\r\n\r\n  useEffect(() => {\r\n    if (\r\n      participantData &&\r\n      participantData.getParticipantsByProject.status === 200\r\n    ) {\r\n      const sendToCcCount =\r\n        participantData.getParticipantsByProject.participants.filter(\r\n          (participant) => participant.create_in_commcare === \"false\"\r\n        );\r\n      setSendToCcCount(sendToCcCount.length);\r\n    }\r\n  }, [participantData]);\r\n\r\n  const handleTakeAction = async () => {\r\n    setIsSyncing(true);\r\n\r\n    try {\r\n      await SyncParticipants({\r\n        variables: {\r\n          projectId: activeProject,\r\n        },\r\n      });\r\n      await refetchParticipants(); // Refetch the participants data after syncing\r\n      setIsSyncing(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setIsSyncing(false);\r\n    }\r\n  };\r\n\r\n  if (participantsLoading || attendanceLoading) {\r\n    return (\r\n      <Grid\r\n        container\r\n        direction=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        style={{ height: \"100vh\" }}\r\n      >\r\n        <BeatLoader color=\"#0D3C61\" size={15} />\r\n        <em style={{ color: \"#0D3C61\" }}>\r\n          Loading Participants and Attendances...\r\n        </em>\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  if (participantsError || attendanceError) {\r\n    return (\r\n      <Grid\r\n        container\r\n        direction=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        style={{ height: \"100vh\" }}\r\n      >\r\n        <em style={{ color: \"red\" }}>\r\n          Error loading data:{\" \"}\r\n          {participantsError?.message || attendanceError?.message}\r\n        </em>\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  const participants = participantData.getParticipantsByProject.participants;\r\n  // const allAttendances = attendanceData.getAttendances.attendance;\r\n\r\n  const columns = [\r\n    { id: \"num\", name: \"No.\", selector: (row) => row.num, sortable: true },\r\n    {\r\n      id: \"full_name\",\r\n      name: \"Full Name\",\r\n      selector: (row) => row.first_name + \" \" + row.last_name,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"gender\",\r\n      name: \"Gender\",\r\n      selector: (row) => (row.gender === \"m\" ? \"Male\" : \"Female\"),\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"location\",\r\n      name: \"Location\",\r\n      selector: (row) => row.location,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"tns_id\",\r\n      name: \"TNS ID\",\r\n      selector: (row) => row.tns_id,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"training_group\",\r\n      name: \"Training Group\",\r\n      selector: (row) => row.training_group,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"household_id\",\r\n      name: \"HH Number\",\r\n      selector: (row) => row.hh_number,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"primary_household_member\",\r\n      name: \"Primary HouseHold Member\",\r\n      selector: (row) => (\r\n        <div>\r\n          {row.farmer_number === \"1\" ? (\r\n            <Chip label={\"1\"} color=\"success\" variant=\"outlined\" />\r\n          ) : (\r\n            <Chip label={\"2\"} color=\"error\" variant=\"outlined\" />\r\n          )}\r\n        </div>\r\n      ),\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"farmer_trainer\",\r\n      name: \"Farmer Trainer\",\r\n      selector: (row) => row.farmer_trainer,\r\n      sortable: true,\r\n    },\r\n    {\r\n      id: \"business_advisor\",\r\n      name: \"Business Advisor\",\r\n      selector: (row) => row.business_advisor,\r\n      sortable: true,\r\n    },\r\n  ];\r\n  const tableRowItem = \"participants\";\r\n\r\n  const rows = participants.map((participant, index) => {\r\n    const row = {\r\n      num: index + 1,\r\n      Project: projects.find(\r\n        (project) => project.sf_project_id === activeProject\r\n      ).project_name,\r\n      p_id: participant.p_id,\r\n      first_name: participant.first_name,\r\n      middle_name: participant.middle_name ? participant.middle_name : \"\",\r\n      last_name: participant.last_name ? participant.last_name : \"\",\r\n      gender: participant.gender,\r\n      age: participant.age,\r\n      coffee_tree_numbers: participant.coffee_tree_numbers,\r\n      phone_number: participant.phone_number,\r\n      farmer_sf_id: participant.p_id,\r\n      hh_number: participant.hh_number,\r\n      sf_household_id: participant.household_id,\r\n      ffg_id: participant.ffg_id,\r\n      location: participant.location,\r\n      tns_id: participant.tns_id,\r\n      training_group:\r\n        trainingGroups && trainingGroups.length > 0\r\n          ? trainingGroups.find((tg) => tg.tg_id === participant.training_group)\r\n              ?.tg_name || \"N/A\"\r\n          : \"N/A\",\r\n      farmer_number: participant.primary_household_member,\r\n      status: participant.status,\r\n      farmer_trainer: participant.farmer_trainer,\r\n      // business_advisor: participant.business_advisor,\r\n      create_in_commcare: participant.create_in_commcare,\r\n      number_of_coffee_plots: participant.number_of_coffee_plots,\r\n    };\r\n\r\n    if (activeProject === \"a0EOj000003E0knMAC\") {\r\n      row.agronomy_advisor = participant.business_advisor;\r\n    } else {\r\n      row.business_advisor = participant.business_advisor;\r\n    }\r\n\r\n    if (\r\n      activeProject === \"a0EOj000002FMGnMAO\" ||\r\n      activeProject === \"a0EOj000002C7ivMAC\"\r\n    ) {\r\n      row.national_identification_id = participant.coop_membership_number\r\n        ? participant.coop_membership_number\r\n        : \"\";\r\n    } else if (activeProject === \"a0EOj000003E0knMAC\") {\r\n      row.growers_number = participant.coop_membership_number\r\n        ? participant.coop_membership_number\r\n        : \"\";\r\n    } else {\r\n      row.coop_membership_number = participant.coop_membership_number\r\n        ? participant.coop_membership_number\r\n        : \"\";\r\n    }\r\n\r\n    return row;\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      {/* Display the dialog box for active participants */}\r\n      {sendToCcCount > 0 && (\r\n        <div className=\"active-participants-dialog\">\r\n          <p>\r\n            You currently have <strong>{sendToCcCount}</strong> participants who\r\n            have not been sent to CommCare. Please download the participant\r\n            list, review the database, and ensure all information is verified\r\n            before syncing with CommCare.\r\n          </p>\r\n          <button\r\n            className=\"take-action-button\"\r\n            onClick={() => handleTakeAction()}\r\n            disabled={isSyncing}\r\n          >\r\n            {isSyncing ? \"Processing...\" : \"Send to Commcare\"}\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex__heading\">\r\n        <h1 className=\"module__heading\">Registered Farmers View</h1>{\" \"}\r\n        {(userDetails?.role === \"super_admin\" ||\r\n          userDetails?.role === \"ci_leadership\" ||\r\n          userDetails?.role === \"senior_business_advisor\" ||\r\n          userDetails?.role === \"project_manager\" ||\r\n          userDetails?.role === \"mel_analyst\") && (\r\n          <FaCloudUploadAlt\r\n            title=\"Upload New Participants\"\r\n            style={{\r\n              fontSize: \"30px\",\r\n              cursor: \"pointer\",\r\n              marginLeft: \"10px\",\r\n              fill: \"#00A5A3\",\r\n            }}\r\n            onClick={() => setOpen(true)}\r\n          />\r\n        )}{\" \"}\r\n      </div>\r\n      {participants.length > 0 ? (\r\n        <Table\r\n          columns={columns}\r\n          data={rows}\r\n          tableRowItem={tableRowItem}\r\n          allAttendances={allAttendances}\r\n          selectedProject={activeProject}\r\n        />\r\n      ) : (\r\n        <div className=\"no__data\">\r\n          <h1 style={{ fontSize: \"20px\" }}>No Registered Farmers Yet</h1>\r\n        </div>\r\n      )}\r\n\r\n      <UploadParticipantsModal\r\n        open={open}\r\n        setOpen={setOpen}\r\n        navigatedProject={\r\n          projects.find((project) => project.sf_project_id === activeProject)\r\n            .project_name\r\n        }\r\n        sfProjectId={activeProject}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Participants;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Dialog,\r\n  // Button,\r\n  DialogContent,\r\n  // DialogActions,\r\n  IconButton,\r\n  Typography,\r\n  Grid,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\nimport { MdClose, MdFullscreen, MdFullscreenExit } from \"react-icons/md\";\r\nimport { styled } from \"@mui/material/styles\";\r\n// import { useMutation, useQuery } from \"@apollo/client\";\r\n// import {\r\n//   GET_TRAINING_SESSIONS_PER_PROJECT,\r\n//   VALIDATE_TRAINING_SESSION,\r\n// } from \"../../../graphql/queries/trainingSessionsRequests\";\r\n// import { toast } from \"react-hot-toast\";\r\n// import { BeatLoader } from \"react-spinners\";\r\n\r\n// const StyledButton = styled(Button)(({ theme }) => ({\r\n//   marginBottom: \"10px\",\r\n//   marginRight: \"10px\",\r\n//   textTransform: \"initial\",\r\n//   backgroundColor: \"rgba(23, 177, 94, 1)\",\r\n//   color: \"#fff\",\r\n//   fontSize: \"12px\",\r\n\r\n//   \"&:hover\": {\r\n//     backgroundColor: \"rgba(23, 177, 94, 0.5)\",\r\n//     transition: \"background-color 0.3s ease-in-out\",\r\n//   },\r\n// }));\r\n\r\n// const StyledButton2 = styled(Button)(({ theme }) => ({\r\n//   marginBottom: \"10px\",\r\n//   marginRight: \"10px\",\r\n//   textTransform: \"initial\",\r\n//   fontSize: \"12px\",\r\n//   color: \"rgba(200, 27, 27, 1)\",\r\n//   borderColor: \"rgba(200, 27, 27, 1)\",\r\n\r\n//   \"&:hover\": {\r\n//     backgroundColor: \"rgba(235, 87, 87, 0.1)\",\r\n//     transition: \"background-color 0.3s ease-in-out\",\r\n//     borderColor: \"rgba(200, 27, 27, 1)\",\r\n//   },\r\n//   \".MuiButton-outlined\": {\r\n//     color: \"rgba(235, 87, 87, 1)\",\r\n//   },\r\n// }));\r\n\r\nconst LoadingOverlay = styled(\"div\")({\r\n  position: \"fixed\",\r\n  top: 0,\r\n  left: 0,\r\n  right: 0,\r\n  bottom: 0,\r\n  backgroundColor: \"rgba(255, 255, 255, 0.7)\",\r\n  zIndex: 9999,\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n});\r\n\r\nconst Imagecontainer = ({\r\n  open,\r\n  handleClose,\r\n  sessionImageUrl,\r\n  // id,\r\n  data,\r\n  // isVerified,\r\n  // imageStatus,\r\n  selectedProject,\r\n  loading,\r\n}) => {\r\n  console.log(data);\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [isLoading] = useState(false);\r\n  // const userDetails = JSON.parse(window.localStorage.getItem(\"myPimaUserData\"));\r\n\r\n  // const [validateSession] = useMutation(VALIDATE_TRAINING_SESSION);\r\n\r\n  // const trainingSessionsPerProject = useQuery(\r\n  //   GET_TRAINING_SESSIONS_PER_PROJECT,\r\n  //   {\r\n  //     variables: { sfProjectId: selectedProject },\r\n  //   }\r\n  // );\r\n\r\n  const toggleExpand = () => {\r\n    setIsExpanded((prev) => !prev);\r\n  };\r\n\r\n  // const handleSessionValidation = async (id, session_image_status) => {\r\n  //   setIsLoading(true);\r\n\r\n  //   try {\r\n  //     await validateSession({\r\n  //       variables: {\r\n  //         tsId: id,\r\n  //         status: session_image_status,\r\n  //       },\r\n  //     });\r\n\r\n  //     // refetch training sessions\r\n  //     trainingSessionsPerProject\r\n  //       .refetch()\r\n  //       .then(() => {\r\n  //         toast.success(\"Session validated successfully\");\r\n  //         setIsLoading(false);\r\n  //       })\r\n  //       .catch((error) => {\r\n  //         console.log(error);\r\n\r\n  //         toast.error(\"Error validating session\");\r\n  //       });\r\n  //   } catch (error) {\r\n  //     console.log(error);\r\n\r\n  //     toast.error(\"Error validating session\");\r\n\r\n  //     setIsLoading(false);\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Dialog\r\n          open={open}\r\n          keepMounted\r\n          fullWidth\r\n          aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n          <div style={{ margin: \"20px\" }}>\r\n            <IconButton\r\n              aria-label=\"close\"\r\n              onClick={handleClose}\r\n              sx={{\r\n                position: \"absolute\",\r\n                right: 8,\r\n                top: 8,\r\n                color: \"#2b2b2b\",\r\n              }}\r\n            >\r\n              <MdClose />\r\n            </IconButton>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              height: \"100%\",\r\n            }}\r\n          >\r\n            <CircularProgress />\r\n            <Typography variant=\"h6\" style={{ marginLeft: \"10px\" }}>\r\n              Loading Image...\r\n            </Typography>\r\n          </div>\r\n        </Dialog>\r\n      ) : (\r\n        <Dialog\r\n          open={open}\r\n          keepMounted\r\n          fullWidth\r\n          aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n          {isLoading && (\r\n            <LoadingOverlay>\r\n              <CircularProgress />\r\n            </LoadingOverlay>\r\n          )}\r\n          <div style={{ margin: \"20px\" }}>\r\n            <IconButton\r\n              aria-label=\"close\"\r\n              onClick={handleClose}\r\n              sx={{\r\n                position: \"absolute\",\r\n                right: 8,\r\n                top: 8,\r\n                color: \"#2b2b2b\",\r\n              }}\r\n            >\r\n              <MdClose />\r\n            </IconButton>\r\n            <Typography variant=\"h6\">Session Image</Typography>\r\n          </div>\r\n\r\n          <DialogContent>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Typography variant=\"body1\">\r\n                  <strong>Male Attendees:</strong> {data.total_males}\r\n                </Typography>\r\n                <Typography variant=\"body1\">\r\n                  <strong>Female Attendees:</strong> {data.total_females}\r\n                </Typography>\r\n                <Typography variant=\"body1\">\r\n                  <strong>Total Attendees:</strong>{\" \"}\r\n                  {data.total_males + data.total_females}\r\n                </Typography>\r\n                <Typography variant=\"body1\">\r\n                  <strong>Session Date:</strong> {data.session_date}\r\n                </Typography>\r\n                <Typography variant=\"body1\">\r\n                  <strong>Farmer Trainer:</strong> {data.farmer_trainer}\r\n                </Typography>\r\n                <Typography variant=\"body1\">\r\n                  <strong>Session Module:</strong> {data.ts_module}\r\n                </Typography>\r\n                <Typography variant=\"body1\">\r\n                  <strong>FFG:</strong> {data.ts_group}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <div style={{ position: \"relative\" }}>\r\n                  <img\r\n                    src={sessionImageUrl}\r\n                    alt=\"session_pic\"\r\n                    style={{\r\n                      width: \"100%\",\r\n                      height: \"auto\",\r\n                      cursor: isExpanded ? \"zoom-out\" : \"zoom-in\",\r\n                    }}\r\n                    onClick={toggleExpand}\r\n                  />\r\n                  {isExpanded ? (\r\n                    <IconButton\r\n                      aria-label=\"shrink\"\r\n                      onClick={toggleExpand}\r\n                      sx={{\r\n                        position: \"absolute\",\r\n                        bottom: 8,\r\n                        right: 8,\r\n                        color: \"#fff\",\r\n                      }}\r\n                    >\r\n                      <MdFullscreenExit />\r\n                    </IconButton>\r\n                  ) : (\r\n                    <IconButton\r\n                      aria-label=\"expand\"\r\n                      onClick={toggleExpand}\r\n                      sx={{\r\n                        position: \"absolute\",\r\n                        bottom: 8,\r\n                        right: 8,\r\n                        color: \"#fff\",\r\n                      }}\r\n                    >\r\n                      <MdFullscreen />\r\n                    </IconButton>\r\n                  )}\r\n                </div>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogContent>\r\n\r\n          {/* <DialogActions>\r\n            {(userDetails?.role === \"super_admin\" ||\r\n              userDetails?.role === \"ci_leadership\" ||\r\n              userDetails?.role === \"project_manager\" ||\r\n              userDetails?.role === \"mel_analyst\") &&\r\n              (!isVerified || imageStatus === \"not_verified\") && (\r\n                <>\r\n                  <StyledButton2 onClick={() => handleSessionValidation(id, \"invalid\")} variant=\"outlined\" disabled={isLoading}>\r\n                    {isLoading ? <BeatLoader size={8} color={\"#fff\"} loading={isLoading} /> : \"Invalid\"}\r\n                  </StyledButton2>\r\n                  <StyledButton2 onClick={() => handleSessionValidation(id, \"unclear\")} variant=\"outlined\" disabled={isLoading}>\r\n                    {isLoading ? <BeatLoader size={8} color={\"#fff\"} loading={isLoading} /> : \"Unclear\"}\r\n                  </StyledButton2>\r\n                  <StyledButton onClick={() => handleSessionValidation(id, \"approved\")} disabled={isLoading}>\r\n                    {isLoading ? <BeatLoader size={8} color={\"#fff\"} loading={isLoading} /> : \"Approve\"}\r\n                  </StyledButton>\r\n                </>\r\n              )}\r\n          </DialogActions> */}\r\n        </Dialog>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Imagecontainer;\r\n","import { gql } from \"@apollo/client\";\r\n\r\nconst GET_PARTICIPANTS_ATTENDANCE_PER_PROJECT = gql`\r\n  query GetParticipantsAttendanceByProject($projectId: String!) {\r\n    getParticipantsByProject(project_id: $projectId) {\r\n      message\r\n      status\r\n      participants {\r\n        p_id\r\n        first_name\r\n        middle_name\r\n        last_name\r\n        gender\r\n        age\r\n        coffee_tree_numbers\r\n        coop_membership_number\r\n        phone_number\r\n        hh_number\r\n        ffg_id\r\n        location\r\n        tns_id\r\n        status\r\n        farmer_trainer\r\n        business_advisor\r\n        project_name\r\n        training_group\r\n        household_id\r\n        primary_household_member\r\n        create_in_commcare\r\n      }\r\n    }\r\n    getAttendances(project_id: $projectId) {\r\n      message\r\n      status\r\n      attendance {\r\n        attendance_id\r\n        participant_id\r\n        attendance_name\r\n        attendance_date\r\n        attendance_status\r\n        session_id\r\n        module_name\r\n        module_number\r\n        module_id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_PARTICIPANTS_PER_PROJECT = gql`\r\n  query GetParticipantsAttendanceByProject($projectId: String!) {\r\n    getParticipantsByProject(project_id: $projectId) {\r\n      message\r\n      status\r\n      participants {\r\n        p_id\r\n        first_name\r\n        middle_name\r\n        last_name\r\n        gender\r\n        age\r\n        coffee_tree_numbers\r\n        number_of_coffee_plots\r\n        coop_membership_number\r\n        phone_number\r\n        hh_number\r\n        ffg_id\r\n        location\r\n        tns_id\r\n        status\r\n        farmer_trainer\r\n        business_advisor\r\n        project_name\r\n        training_group\r\n        household_id\r\n        primary_household_member\r\n        create_in_commcare\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_PARTICIPANTS_PER_TG = gql`\r\n  query GetParticipantsByGroup($tgId: String!) {\r\n    getParticipantsByGroup(tg_id: $tgId) {\r\n      message\r\n      status\r\n      participants {\r\n        p_id\r\n        first_name\r\n        middle_name\r\n        last_name\r\n        gender\r\n        location\r\n        tns_id\r\n        status\r\n        farmer_trainer\r\n        business_advisor\r\n        project_name\r\n        training_group\r\n        household_id\r\n        primary_household_member\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_PARTICIPANT_BY_ID = gql`\r\n  query GetParticipantsById($id: String!) {\r\n    getParticipantsById(p_id: $id) {\r\n      message\r\n      status\r\n      participant {\r\n        p_id\r\n        first_name\r\n        middle_name\r\n        last_name\r\n        gender\r\n        location\r\n        tns_id\r\n        status\r\n        farmer_trainer\r\n        business_advisor\r\n        project_name\r\n        training_group\r\n        household_id\r\n        primary_household_member\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_ATTENDANCE_PER_PARTICIPANT = gql`\r\n  query GetAttendanceByParticipant($participantId: String!) {\r\n    getAttendanceByParticipant(participant_id: $participantId) {\r\n      message\r\n      status\r\n      attendance {\r\n        attendance_id\r\n        participant_id\r\n        attendance_name\r\n        attendance_date\r\n        attendance_status\r\n        module_name\r\n        session_id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPLOAD_PARTICIPANTS = gql`\r\n  mutation UploadParticipants($partsFile: Upload!) {\r\n    uploadParticipants(parts_file: $partsFile) {\r\n      message\r\n      status\r\n      file\r\n    }\r\n  }\r\n`;\r\n\r\nconst SYNC_PARTICIPANTS_WITH_COMMCARE = gql`\r\n  mutation SyncParticipantsWithCOMMCARE($projectId: String!) {\r\n    syncParticipantsWithCOMMCARE(project_id: $projectId) {\r\n      message\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport {\r\n  GET_PARTICIPANTS_PER_PROJECT,\r\n  GET_PARTICIPANTS_PER_TG,\r\n  GET_ATTENDANCE_PER_PARTICIPANT,\r\n  UPLOAD_PARTICIPANTS,\r\n  SYNC_PARTICIPANTS_WITH_COMMCARE,\r\n  GET_PARTICIPANTS_ATTENDANCE_PER_PROJECT,\r\n  GET_PARTICIPANT_BY_ID\r\n};\r\n"],"names":["TimeZone","now","Date","userTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","toLocaleDateString","year","month","day","toLocaleTimeString","hour","minute","second","customStyles","rows","style","minHeight","cursor","headCells","paddingLeft","paddingRight","backgroundColor","color","cells","paddingTop","paddingBottom","ExportButtons","_ref","handleCSVExport","handleExcelExport","tableRowItem","_jsxs","className","children","Button","variant","sx","borderColor","onClick","_jsx","FaFileExport","marginRight","_ref2","columns","data","filter","allAttendances","selectedProject","pathName","window","location","pathname","split","rowDetails","setRowDetails","useState","ts_id","open","setOpen","loading","setLoading","session_image","setSession_image","searchText","setSearchText","filteredData","setFilteredData","modalOpen","setModalOpen","fvId","setFvId","navigate","useNavigate","imageData","useQuery","GET_TRAINING_SESSION_IMAGE","variables","tsId","skip","filename","useEffect","_imageData$data","_imageData$data$train","trainingSessionImage","status","display","alignItems","justifyContent","width","type","placeholder","value","onChange","e","target","toLowerCase","filteredItems","item","some","column","field","id","toString","includes","BiSearchAlt","length","alert","updatedColumns","newColumns","partsHeaders","monthlyAttendanceMap","Map","attendance","participant","p_id","participant_id","forEach","attendance_status","module_number","module_name","module_id","key","has","set","get","monthKey","push","csvRows","map","rowData","monthlyAttendance","sanitizedData","_ref3","tg_id","attendance_id","fv_id","__typename","rest","config","mkConfig","columnHeaders","csvContent","generateCsv","download","console","log","error","sessionsData","header","body","_ref4","Object","values","trainerSummary","reduce","acc","_ref5","farmer_trainer","session_image_status","count","trainerSummaryData","workbook","utils","book_new","sessionsWorksheet","json_to_sheet","skipHeader","summaryWorksheet","book_append_sheet","writeFile","DataTable","onRowClicked","row","trainsession","traingroup","participants","farmvisit","fv_ids","trainsessionapprov","pagination","highlightOnHover","Imagecontainer","handleClose","isVerified","is_verified","imageStatus","sessionImageUrl","requiredColumns","navigatedProject","sfProjectId","fileInfo","setFileInfo","file","setFile","loadedColumns","setLoadedColumns","distinctProjects","setDistinctProjects","uploadResult","setUploadResult","isProcessing","setIsProcessing","uploadParticipants","useMutation","UPLOAD_PARTICIPANTS","participantsPerProject","GET_PARTICIPANTS_PER_PROJECT","projectId","parseFile","reader","FileReader","onload","loadedData","result","modifiedData","cell","replace","name","size","readAsText","extractDistinctProjects","projectColumn","indexOf","project","Set","reason","resetState","createProjectSpecificFile","projectIndex","projectData","projectDataString","join","File","uploadFile","async","res","partsFile","refetch","setTimeout","reload","message","handleDownloadErrors","byteCharacters","atob","byteNumbers","Array","fill","_","i","charCodeAt","byteArray","Uint8Array","blob","Blob","saveAs","formatFileSize","toFixed","formatNumberWithCommas","number","Dialog","onClose","DialogContent","Box","flexDirection","Typography","Alert","severity","BiErrorAlt","fontSize","flexWrap","index","Chip","label","margin","AiOutlineCloseCircle","title","fontStyle","marginBottom","textAlign","fontWeight","_Fragment","FaCloudUploadAlt","newFile","FileUploader","handleChange","types","DialogActions","disabled","GET_ALL_ATTENDANCES","gql","Participants","activeProject","trainingGroups","projects","useOutletContext","sendToCcCount","setSendToCcCount","isSyncing","setIsSyncing","participantData","participantsLoading","participantsError","refetchParticipants","setAllAttendances","attendanceLoading","setAttendanceLoading","attendanceError","setAttendanceError","fetchMore","limit","offset","notifyOnNetworkStatusChange","_initialData$getAtten","allChunks","initialData","initialChunk","getAttendances","maxParallel","keepGoing","promises","currentOffset","p","then","_res$data","_res$data$getAttendan","chunk","results","Promise","all","err","fetchAllAttendancesParallel","SyncParticipants","SYNC_PARTICIPANTS_WITH_COMMCARE","userDetails","JSON","parse","localStorage","getItem","getParticipantsByProject","create_in_commcare","Grid","container","direction","height","BeatLoader","selector","num","sortable","first_name","last_name","gender","tns_id","training_group","hh_number","farmer_number","business_advisor","_trainingGroups$find","Project","find","sf_project_id","project_name","middle_name","age","coffee_tree_numbers","phone_number","farmer_sf_id","sf_household_id","household_id","ffg_id","tg","tg_name","primary_household_member","number_of_coffee_plots","agronomy_advisor","national_identification_id","coop_membership_number","growers_number","handleTakeAction","role","marginLeft","Table","UploadParticipantsModal","LoadingOverlay","styled","position","top","left","right","bottom","zIndex","isExpanded","setIsExpanded","isLoading","toggleExpand","prev","keepMounted","fullWidth","IconButton","MdClose","CircularProgress","spacing","xs","sm","total_males","total_females","session_date","ts_module","ts_group","src","alt","MdFullscreenExit","MdFullscreen","GET_PARTICIPANTS_PER_TG","GET_PARTICIPANT_BY_ID","GET_ATTENDANCE_PER_PARTICIPANT"],"sourceRoot":""}